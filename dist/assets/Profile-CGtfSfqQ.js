import{_ as x,r as v,h as R,i as U,c as l,o as n,b as o,a as D,F as L,e as T,f as y,t as m,j as k,D as j,y as P,m as S,d as A,u as M,E as B,k as h,G as V,v as I,x as N}from"./index-DZTT0LQi.js";const z={class:"favorites-container"},G={class:"collection-filters"},H=["onClick"],J={key:0,class:"recipe-cards-grid"},K={class:"recipe-image-container"},O=["src","alt"],Q={class:"recipe-info"},W={class:"recipe-name"},X={class:"recipe-meta"},Y={class:"cook-time"},Z={class:"recipe-actions"},ee=["onClick"],oe=["onClick"],te={key:1,class:"empty-state"},se={key:2,class:"loading-state"},ae={__name:"favorites",setup(E,{expose:C}){const _=A(),c=v(!1),u=v("all"),d=[{id:"all",label:"全部"},{id:"vegetarian",label:"素食"},{id:"hot",label:"熱門"},{id:"quick",label:"快炒"}],a=v([{id:"R001",name:"蕃茄炒蛋",cookTime:"15分鐘",difficulty:"簡單",category:"quick",image:"/images/recipes/tomato-egg.jpg",tags:["家常菜","簡單"]},{id:"R002",name:"蔬菜湯",cookTime:"30分鐘",difficulty:"簡單",category:"vegetarian",image:"/images/recipes/vegetable-soup.jpg",tags:["素食","湯品"]},{id:"R003",name:"涼拌小黃瓜",cookTime:"20分鐘",difficulty:"普通",category:"vegetarian",image:"/images/recipes/cucumber-salad.jpg",tags:["涼拌","素食"]},{id:"R004",name:"宮保雞丁",cookTime:"25分鐘",difficulty:"普通",category:"hot",image:"/images/recipes/kung-pao-chicken.jpg",tags:["熱門","川菜"]},{id:"R005",name:"青椒肉絲",cookTime:"18分鐘",difficulty:"簡單",category:"quick",image:"/images/recipes/pepper-pork.jpg",tags:["快炒","家常菜"]},{id:"R006",name:"麻婆豆腐",cookTime:"22分鐘",difficulty:"困難",category:"hot",image:"/images/recipes/mapo-tofu.jpg",tags:["熱門","川菜","素食"]}]),p=R(()=>u.value==="all"?a.value:a.value.filter(s=>s.category===u.value)),$=s=>{u.value=s},w=s=>{_.push(`/ai-recommendation/${s}`)},g=async s=>{if(confirm("確定要從收藏中移除這個食譜嗎？"))try{c.value=!0,await new Promise(t=>setTimeout(t,500)),a.value=a.value.filter(t=>t.id!==s),alert("已從收藏中移除")}catch(t){console.error("移除收藏失敗:",t),alert("移除失敗，請稍後再試")}finally{c.value=!1}},F=s=>{s.target.src="/images/placeholder/recipe-placeholder.jpg"},b=async()=>{try{c.value=!0,console.log("🍳 載入收藏食譜列表")}catch(s){console.error("載入收藏失敗:",s)}finally{c.value=!1}};return U(()=>{b()}),C({loadFavorites:b,removeFromCollection:g}),(s,t)=>{const i=S("RouterLink");return n(),l("div",z,[o("div",G,[(n(),l(L,null,T(d,e=>o("button",{key:e.id,class:y(["filter-tag",{active:u.value===e.id}]),onClick:f=>$(e.id)},m(e.label),11,H)),64))]),p.value.length>0?(n(),l("div",J,[(n(!0),l(L,null,T(p.value,e=>(n(),l("div",{key:e.id,class:"recipe-collection-card"},[o("div",K,[o("img",{src:s.$img(e.image),alt:e.name,class:"recipe-image",onError:F},null,40,O)]),o("div",Q,[o("h3",W,m(e.name),1),o("div",X,[o("span",Y,m(e.cookTime),1),o("span",{class:y(["difficulty-tag",e.difficulty])},m(e.difficulty),3)])]),o("div",Z,[o("button",{class:"action-btn view-btn",onClick:f=>w(e.id)}," 查看 ",8,ee),o("button",{class:"action-btn remove-btn",onClick:f=>g(e.id)}," 刪除 ",8,oe)])]))),128))])):(n(),l("div",te,[t[1]||(t[1]=o("div",{class:"empty-icon"},"📝",-1)),t[2]||(t[2]=o("h3",null,"尚無收藏的食譜",-1)),t[3]||(t[3]=o("p",null,"開始探索並收藏您喜愛的食譜吧！",-1)),k(i,{to:"/ai-recommendation",class:"browse-btn"},{default:j(()=>t[0]||(t[0]=[P(" 瀏覽食譜 ")])),_:1})])),c.value?(n(),l("div",se,t[4]||(t[4]=[o("p",null,"載入中...",-1)]))):D("",!0)])}}},ie=x(ae,[["__scopeId","data-v-1e6bcd5d"]]),le={class:"veggie-favorites-container"},ne={class:"collection-filters"},re=["onClick"],ce={key:0,class:"veggie-cards-grid"},de={class:"veggie-image-container"},ue=["src","alt"],ve={class:"veggie-info"},ge={class:"veggie-name"},me={class:"veggie-meta"},pe={class:"veggie-price"},fe={class:"veggie-actions"},ye=["onClick"],_e=["onClick"],be={key:1,class:"empty-state"},ke={key:2,class:"loading-state"},$e={__name:"VeggieFav",setup(E,{expose:C}){const _=A(),c=v(!1),u=v("all"),d=[{id:"all",label:"全部"},{id:"root",label:"根莖類"},{id:"leafy",label:"葉菜類"},{id:"fruit",label:"果菜類"},{id:"bean",label:"瓜果類"},{id:"mushroom",label:"菇類"},{id:"bean-pod",label:"豆類"}],a=v([{id:"V001",name:"番茄",price:"台灣",category:"fruit",categoryLabel:"果菜類",image:"/images/veggies/tomato.jpg",tags:["維生素C","抗氧化"]},{id:"V002",name:"高麗菜",price:"新化",category:"leafy",categoryLabel:"葉菜類",image:"/images/veggies/cabbage.jpg",tags:["葉菜類","纖維"]},{id:"V003",name:"胡蘿蔔",price:"雲林",category:"root",categoryLabel:"根莖類",image:"/images/veggies/carrot.jpg",tags:["維生素A","護眼"]},{id:"V004",name:"青椒",price:"彰化",category:"fruit",categoryLabel:"果菜類",image:"/images/veggies/green-pepper.jpg",tags:["維生素C","果菜"]},{id:"V005",name:"菠菜",price:"台中",category:"leafy",categoryLabel:"葉菜類",image:"/images/veggies/spinach.jpg",tags:["葉酸","鐵質"]},{id:"V006",name:"白蘿蔔",price:"台南",category:"root",categoryLabel:"根莖類",image:"/images/veggies/daikon.jpg",tags:["消化","纖維"]}]),p=R(()=>u.value==="all"?a.value:a.value.filter(s=>s.category===u.value)),$=s=>{u.value=s},w=s=>{_.push(`/veggie/${s}`)},g=async s=>{if(confirm("確定要從收藏中移除這個蔬菜嗎？"))try{c.value=!0,await new Promise(t=>setTimeout(t,500)),a.value=a.value.filter(t=>t.id!==s),alert("已從收藏中移除")}catch(t){console.error("移除收藏失敗:",t),alert("移除失敗，請稍後再試")}finally{c.value=!1}},F=s=>{s.target.src="/images/placeholder/veggie-placeholder.jpg"},b=async()=>{try{c.value=!0,console.log("🥬 載入收藏蔬菜列表")}catch(s){console.error("載入收藏失敗:",s)}finally{c.value=!1}};return U(()=>{b()}),C({loadVeggieFavorites:b,removeFromCollection:g}),(s,t)=>{const i=S("RouterLink");return n(),l("div",le,[o("div",ne,[(n(),l(L,null,T(d,e=>o("button",{key:e.id,class:y(["filter-tag",{active:u.value===e.id}]),onClick:f=>$(e.id)},m(e.label),11,re)),64))]),p.value.length>0?(n(),l("div",ce,[(n(!0),l(L,null,T(p.value,e=>(n(),l("div",{key:e.id,class:"veggie-collection-card"},[o("div",de,[o("img",{src:s.$img(e.image),alt:e.name,class:"veggie-image",onError:F},null,40,ue)]),o("div",ve,[o("h3",ge,m(e.name),1),o("div",me,[o("span",pe,"售價："+m(e.price),1),o("span",{class:y(["veggie-category-tag",e.category])},m(e.categoryLabel),3)])]),o("div",fe,[o("button",{class:"action-btn view-btn",onClick:f=>w(e.id)}," 查看 ",8,ye),o("button",{class:"action-btn remove-btn",onClick:f=>g(e.id)}," 刪除 ",8,_e)])]))),128))])):(n(),l("div",be,[t[1]||(t[1]=o("div",{class:"empty-icon"},"🥕",-1)),t[2]||(t[2]=o("h3",null,"尚無收藏的蔬菜",-1)),t[3]||(t[3]=o("p",null,"開始探索並收藏您喜愛的蔬菜吧！",-1)),k(i,{to:"/ai-recommendation",class:"browse-btn"},{default:j(()=>t[0]||(t[0]=[P(" 瀏覽蔬菜 ")])),_:1})])),c.value?(n(),l("div",ke,t[4]||(t[4]=[o("p",null,"載入中...",-1)]))):D("",!0)])}}},he=x($e,[["__scopeId","data-v-ff30e50c"]]),Ce={class:"member-profile-page"},we={key:0,class:"not-logged-in-container"},Fe={class:"not-logged-in-card"},Re={key:1,class:"member-center-container"},Ve={class:"sidebar"},Le={class:"avatar-section"},Te={class:"avatar-circle"},je=["src"],Pe={class:"menu-nav"},Se={class:"content-area"},xe={key:0,class:"profile-content"},Ue={class:"form-row"},Ae={class:"form-group"},Ee={class:"form-group"},Ie={class:"form-group full-width"},Ne={class:"form-group full-width"},De={class:"form-group full-width"},qe={class:"form-group full-width"},Me={class:"password-link"},Be={class:"form-actions"},ze=["disabled"],Ge={key:1,class:"food-collection-content"},He={key:2,class:"veggie-collection-content"},Je={key:3,class:"other-content"},Ke={class:"section-title"},Oe={__name:"Profile",setup(E){const C=A(),_=M(),c=R(()=>_.isAuthenticated),u=R(()=>_.userName||"使用者"),d=v("profile"),a=v({name:"",phone:"",email:"",foodPreference:"",seasonPreference:"",address:""}),p=v("all"),$=v([{id:1,name:"蕃茄炒蛋",cookTime:"15分鐘",difficulty:"簡單",category:"quick",image:"/images/recipes/tomato-egg.jpg"},{id:2,name:"蔬菜湯",cookTime:"30分鐘",difficulty:"簡單",category:"vegetarian",image:"/images/recipes/vegetable-soup.jpg"},{id:3,name:"涼拌小黃瓜",cookTime:"20分鐘",difficulty:"普通",category:"vegetarian",image:"/images/recipes/cucumber-salad.jpg"}]);R(()=>p.value==="all"?$.value:$.value.filter(i=>i.category===p.value));const w=v("/images/default-avatar.png"),g=i=>{d.value=i,i==="food-collection"&&favoritesRef.value?favoritesRef.value.loadFavorites():i==="veggie-collection"&&veggieFavRef.value&&veggieFavRef.value.loadVeggieFavorites()},F=()=>({"food-collection":"食譜收藏","veggie-collection":"蔬菜收藏","track-alerts":"到價追蹤"})[d.value]||"個人資訊",b=async()=>{isSaving.value=!0;try{await new Promise(i=>setTimeout(i,1e3)),alert("個人資料更新成功！")}catch(i){console.error("更新失敗:",i),alert("更新失敗，請稍後再試")}finally{isSaving.value=!1}},s=async()=>{if(confirm("確定要登出嗎？"))try{_.logout(),localStorage.removeItem("redirectAfterLogin"),C.replace("/member/login")}catch(i){console.error("登出失敗:",i),alert("登出失敗，請稍後再試")}},t=async()=>{try{a.value={name:u.value||"",phone:"",email:"",foodPreference:"",seasonPreference:"",address:""}}catch(i){console.error("載入使用者資料失敗:",i)}};return U(()=>{c.value&&t()}),(i,e)=>{const f=S("RouterLink"),q=S("Footer");return n(),l("div",Ce,[c.value?(n(),l("div",Re,[o("div",Ve,[e[13]||(e[13]=o("div",{class:"member-center-title"},[o("h1",null,"會員中心")],-1)),o("div",Le,[o("div",Te,[o("img",{src:w.value,alt:"使用者頭像",class:"user-avatar"},null,8,je)])]),o("nav",Pe,[o("button",{class:y(["menu-item",{active:d.value==="profile"}]),onClick:e[0]||(e[0]=r=>g("profile"))}," 個人資訊 ",2),o("button",{class:y(["menu-item",{active:d.value==="food-collection"}]),onClick:e[1]||(e[1]=r=>g("food-collection"))}," 食譜收藏 ",2),o("button",{class:y(["menu-item",{active:d.value==="veggie-collection"}]),onClick:e[2]||(e[2]=r=>g("veggie-collection"))}," 蔬菜收藏 ",2),o("button",{class:y(["menu-item",{active:d.value==="track-alerts"}]),onClick:e[3]||(e[3]=r=>g("track-alerts"))}," 到價追蹤 ",2)]),o("div",{class:"logout-section"},[o("button",{class:"logout-btn",onClick:s},"登出")])]),o("div",Se,[d.value==="profile"?(n(),l("div",xe,[e[23]||(e[23]=o("h2",{class:"section-title"},"個人資訊",-1)),o("form",{onSubmit:B(b,["prevent"]),class:"profile-form"},[o("div",Ue,[o("div",Ae,[e[14]||(e[14]=o("label",{for:"name"},"姓名",-1)),h(o("input",{type:"text",id:"name","onUpdate:modelValue":e[4]||(e[4]=r=>a.value.name=r),class:"form-input",placeholder:"請輸入姓名"},null,512),[[V,a.value.name]])]),o("div",Ee,[e[15]||(e[15]=o("label",{for:"phone"},"電話",-1)),h(o("input",{type:"tel",id:"phone","onUpdate:modelValue":e[5]||(e[5]=r=>a.value.phone=r),class:"form-input",placeholder:"請輸入電話號碼"},null,512),[[V,a.value.phone]])])]),o("div",Ie,[e[16]||(e[16]=o("label",{for:"email"},"Email",-1)),h(o("input",{type:"email",id:"email","onUpdate:modelValue":e[6]||(e[6]=r=>a.value.email=r),class:"form-input",placeholder:"請輸入電子郵件"},null,512),[[V,a.value.email]])]),o("div",Ne,[e[18]||(e[18]=o("label",{for:"foodPreference"},"偏好設定",-1)),h(o("select",{id:"foodPreference","onUpdate:modelValue":e[7]||(e[7]=r=>a.value.foodPreference=r),class:"form-select"},e[17]||(e[17]=[N('<option value="" data-v-c2230883>請選擇飲食偏好</option><option value="vegetarian" data-v-c2230883>素食</option><option value="vegan" data-v-c2230883>純素</option><option value="omnivore" data-v-c2230883>雜食</option><option value="keto" data-v-c2230883>生酮飲食</option><option value="low-carb" data-v-c2230883>低碳水化合物</option>',6)]),512),[[I,a.value.foodPreference]])]),o("div",De,[e[20]||(e[20]=o("label",{for:"seasonPreference"},"蔬菜季節",-1)),h(o("select",{id:"seasonPreference","onUpdate:modelValue":e[8]||(e[8]=r=>a.value.seasonPreference=r),class:"form-select"},e[19]||(e[19]=[N('<option value="" data-v-c2230883>請選擇季節偏好</option><option value="spring" data-v-c2230883>春季</option><option value="summer" data-v-c2230883>夏季</option><option value="autumn" data-v-c2230883>秋季</option><option value="winter" data-v-c2230883>冬季</option><option value="all" data-v-c2230883>全年</option>',6)]),512),[[I,a.value.seasonPreference]])]),o("div",qe,[e[21]||(e[21]=o("label",{for:"address"},"收貨地址",-1)),h(o("input",{type:"text",id:"address","onUpdate:modelValue":e[9]||(e[9]=r=>a.value.address=r),class:"form-input",placeholder:"請輸入收貨地址"},null,512),[[V,a.value.address]])]),o("div",Me,[k(f,{to:"/member/forgot-password",class:"change-password-link"},{default:j(()=>e[22]||(e[22]=[P(" 修改密碼 > ")])),_:1})]),o("div",Be,[o("button",{type:"submit",class:"save-btn",disabled:i.isSaving},m(i.isSaving?"儲存中...":"儲存變更"),9,ze)])],32)])):d.value==="food-collection"?(n(),l("div",Ge,[e[24]||(e[24]=o("h2",{class:"section-title"},"食譜收藏清單",-1)),k(ie,{ref:"favoritesRef"},null,512)])):d.value==="veggie-collection"?(n(),l("div",He,[e[25]||(e[25]=o("h2",{class:"section-title"},"食材收藏清單",-1)),k(he,{ref:"veggieFavRef"},null,512)])):(n(),l("div",Je,[o("h2",Ke,m(F()),1),e[26]||(e[26]=o("div",{class:"coming-soon"},[o("p",null,"此功能正在開發中，敬請期待！")],-1))]))])])):(n(),l("div",we,[o("div",Fe,[e[11]||(e[11]=o("h2",null,"請先登入",-1)),e[12]||(e[12]=o("p",null,"您尚未登入，請先登入以查看您的會員資料。",-1)),k(f,{to:"/member/login",class:"btn-login"},{default:j(()=>e[10]||(e[10]=[P("前往登入")])),_:1})])])),k(q)])}}},We=x(Oe,[["__scopeId","data-v-c2230883"]]);export{We as default};
