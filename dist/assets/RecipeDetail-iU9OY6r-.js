import{_ as w,h as j,i as F,g as ee,u as se,r as I,w as J,c as d,o as u,b as e,n as te,t as c,l as M,y as B,s as q,d as ne,F as b,e as U,a as E,f as P,j as v,D as X,m as z}from"./index-DmGRutL1.js";import{a as ae}from"./index-t--hEgTQ.js";import{r as ie,g as oe,R as re}from"./RecipeRecommendCard-C3ixW5Ao.js";const Ae="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAbCAYAAAB1NA+iAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAMqSURBVHgB7VPbaxNpHD0zk8uYNN1Nupu2cVtd2IeFZa3d1l27uy5rd0F8UPEGgqBPCqKID6IgSPwLRETQgnh5KdKK2npDvKAWbRpTW1vSS5pqi2k6TZN2ZnKdzuXzm4AB0b7pm+flG+b7nfP7ncPvA77iy8Lf0ukIhULWxe4JwDCLXXbcuV8/EUuszSua7uAdLw/u2d71qTp2MYHJyde/J4XY/pQwcaKMSy9brO4jAb/fz56+8qhuifeXCoZ3e+yuSiYFb92xU60rSjUXL/Lvvz+wcO3ZK++CJJ4cCfVsU+R5u9PGwaBO5ZwCw/6tUfNr0435qZEz7u+rz1q15NYDe/eGLSXPgUClMTt9c+Dxw1V/NjdjddMfyKeSMBN0VNeiOxBg716/tmVZw7q/Xzxozbh4djW9ChfJhBCmO9h36fjhIyQWmyJzokRESSbphECk2ARRVIPEhSR5PTlF/IePkgudwU6TU8pgIBqt7+l6snP9ls2w2e1wf1MOzmJBNptFVpbpmYFBDHR1B7Hin3+hxQY3tN66t8rkFi2oucKmhULO0tDwGxiWxdBoBLqmo7KMp0IcIqPDEAQB6/9bA13X0RYZgper3E6pweIEwcDz+qU/VEEURbB0NX76cTnSsoRX/X0YHhoEb7fi/7XNsFGxQj6HsgoP0vG3daUJxqNvsKapAalUCi6Xy8wEK1fWQZdrYOQyYCqqoepasXuhUMBSXzUiQ/1cKYOMnB5RNAKfz2cmCo5hQQy6qEtcMMq/g0aJBv2vaRp4mw28sxzJxNybkgDDMB1SRkc4HIYQn6adNGgLClRVpXsAGPQkVGR2ZgaR6Djm6aRiIn61JHDu3JlnYwOhx+OzKqy8HYlkEirtZugGdFOETmPa46xWOKjF/p7A8137Dj0sZWBCyqV3Dwee9tCuVTVuBstra6EoSjEPp9OJ0bEo+LJykywI0/E9jY2Nqsnj3gv09vZKHo+rQ0zM/KVYKnxSXse8JCMpyoilMpCyedLX3dUbHx/b0XL58uAn34KJtrY2ruX8+Q1et3ejp6rmZ45jmYI8N5oRZ2+rDHO3vb09g6/4vHgHO0OSXpmjx+UAAAAASUVORK5CYII=",ce="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAbCAYAAAB1NA+iAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJUSURBVHgB7VJLaBNRFH1vZtr8mqRSLGIjFSK26DJ0qSjiUqHgyo0uRIqCLuoHhSLdFD8tKAgtVRfqQhgRpKCSWnBl/IugkOqmSippazKjM5nJzPvM870J+dqd21x48Oaee867c88FoB3taAlVZXImx0KMMdiKiZyay4VUVZUb87XCqWdfDjq2c0aSQJICsBiLRS+c2jfw1sfSn7cgB00wj+2mlP0Jx8P3RvfvnKwJTKgfd1iolKHEi1cFlQ7FlqPBfnAgpbEHrxeQ6+wFENZeDccjx8aGh+4oIqGXfh8CXpVcKaKEhCWMj4LZhbTXIe/heEPDDJiacZxfKgLYdbfXyaz+3wj1QQoSwCPw34nBrX6nvgDGqQaefxUMKMEhBqUiQKSWr/UIYe/Jm0/6fQHDMF8GA4HBlhdAuWy/cW3r/YaejZzMmlBCyGJR/6FJ4sPUC9PIRQCh+nEcxzCK5uzDyyNpy7SyjZg4pmndnrt63vQFHk+d/lD8VRjDCANfyMVMLxYuzt048VV0vpZfOcwtLlcewaBkGk+NXHZGcKVqS6Fu+TovYJir82On4tp0FXt+69wnQsm8j7kud4jdnb8/afk/eunFUre5+nNQW145oufXRsSoIPe7Z/OmK4ltSVXuUtz8t++7VpeWx7m1vYIUjkUziYHkuNyXeAeHz85cI5SOUoI5re4WX10gKzIIdkU8SZYlU9NBIy6WqjMUfKTYlt3By9fxmS8TpWImkhDrDAZ4+6jZCYwVpVw2XzEPRsC6IUbk+TfXcfgyek2YBL0saMf/x18c0EEvkGnU3gAAAABJRU5ErkJggg==",le="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAbCAYAAAB1NA+iAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAKASURBVHgB7VPdSxRRFD935u7M7szu6vq5YcYqsVBZCWn6FISFQWDUQ1BQSkREUP0BESI91GvWm9AHRQ+Sj30Q+JAZ+SBEEpZJpKtZaepuMzuz83HndtYPcGs3qKcePHCYy5zf+Z3zO+degHX7z81+1HbRetZx4k8YUihgDF/b5PfZb7mVkr5WHSupqmow8uGEQgTUnTtMaltDQvyQXP7xQXshXF4C3tsrQijSDmoNQCgOJBI+9VcEZmyoiZZtqQfiQ4QEYkmswXpzvS4flqSeHL8QDAe2E6oUewIJCkqxQkLRjbBhXy3QyDLKTQHMPP4Gtj7BLU0Hx9K8dCqZSZnPqcmckzTasstfEQdRlFE8uqhgZfxCZmUgeK5uqwTuVBLPAs81ID01DNrMw20CizYdSE4NDurfx4ARB3tCBxw419D1FcczpDFmgss0SCaGYPHTy6dmsPbI0ho57xUn+/u6g5U15yKxZpStYgeoH8TlRXNvyZmdhIUPA442PXZTlUsvR1vvpXPuwef+g+fLymm3r7oZwFeOyQH8i8keSmGz4My9g7nJhbM9Lxp7urq6vCV1awmUdGKE+DjwMMOIHxvwLQdQNzALBH0eAlQeWU3+jUBiekt2bt7iBCZTsLIjEQlIlAPxXJypA35P2o/QV3kJuM32cqxkmxnQLIIuJDxK1VCAlZYEXBBZdvHhPTn3YPUwfXd3qcKmEpbtKgahhiNJd1xVvSLSoMO99FWfoZ8u8jJElP2ZL6JaVHd01M7pIOPMRwwHZC4HB5lAL23tGB9YU+jMaN+OW7M/6A2+YO70S3ZFtib8au/vxxvHuzfLUMB4Z6fw+nasnvPCr3jd/sF+Ahol+8vatwGnAAAAAElFTkSuQmCC",de={class:"header-container"},ue={class:"header-gradient"},me={class:"header-title-row"},ge={class:"header-title"},pe=["src"],fe={class:"header-desc"},he={class:"header-info"},ve={class:"info-item"},Be={class:"info-item"},we={class:"info-item"},ye=["src"],Se="2001",be="2002",Ue={__name:"RecipeDetailHeader",props:{id:[String,Number],title:String,desc:String,image:String,cookTimeMinutes:{type:[Number,String],default:null},servings:{type:[Number,String],default:null},difficulty:String,gradientColors:{type:Array,default:()=>[]}},setup(l){const t=l,r=j(()=>(t.gradientColors||[]).length<2?"":`linear-gradient(to right, ${t.gradientColors.join(", ")})`);function s(){const[a,g,p]=t.gradientColors,m="rgba(255, 102, 0, 0)",Q=`linear-gradient(90deg, ${a} 0%, ${g} 20%, ${p} 60%, ${m} 100%)`,k=`linear-gradient(to bottom, ${a} 0%, ${g} 30%, ${p} 65%, ${m} 100%)`;document.documentElement.style.setProperty("--recipe-header-gradient-pc",Q),document.documentElement.style.setProperty("--recipe-header-gradient-mobile",k)}F(()=>{s()}),ee(()=>{document.documentElement.style.removeProperty("--recipe-header-gradient-pc"),document.documentElement.style.removeProperty("--recipe-header-gradient-mobile")});const n=se(),o=ne(),i=q(),A="".replace(/\/$/,"");function f(){const a=localStorage.getItem("userToken")||"";return a?`Bearer ${a.replace(/^Bearer\s+/,"")}`:""}function y(){return n.userId||Number(localStorage.getItem("userId"))||null}function N(){var a;return t.id??i.params.id??i.query.recipeId??((a=i.path.match(/\/recipe\/([^/?#]+)/))==null?void 0:a[1])??null}async function D(a,g,{query:p,body:m}={}){const Q=p?`?${new URLSearchParams(p).toString()}`:"",k=`${A}${g}${Q}`,h=new Headers;h.set("Accept","application/json"),m&&h.set("Content-Type","application/json");const R=f();R&&(h.set("Authorization",R),h.set("token",R.replace(/^Bearer\s+/,"")),h.set("X-Auth-Token",R.replace(/^Bearer\s+/,"")));const Z=await fetch(k,{method:a,headers:h,credentials:"include",body:m?JSON.stringify(m):void 0}),O=await Z.text(),Y=O?JSON.parse(O):{};if(!Z.ok){const L=new Error((Y==null?void 0:Y.message)||`HTTP ${Z.status}`);throw L.status=Z.status,L}return Y}const T=(a,g)=>D("POST",`/api/memberUser/favorites/recipe/${encodeURIComponent(a)}`,{query:{userId:g}}),_=(a,g)=>D("DELETE",`/api/memberUser/favorites/recipe/${encodeURIComponent(a)}`,{query:{userId:g}}),x=new Set(["0000","0",0]),H=a=>x.has(String((a==null?void 0:a.code)??""))||String((a==null?void 0:a.code)??"")===Se||/success|成功|ok/i.test(String((a==null?void 0:a.message)??"")),W=a=>x.has(String((a==null?void 0:a.code)??""))||String((a==null?void 0:a.code)??"")===be||/success|成功|ok|移除|刪除/i.test(String((a==null?void 0:a.message)??""));async function K(a,g){var k;const p=await D("GET","/api/memberUser/favorites/recipe",{query:{userId:g}}),m=((k=p==null?void 0:p.data)==null?void 0:k.items)??(p==null?void 0:p.data)??(p==null?void 0:p.items)??[];return(Array.isArray(m)?m:[]).some(h=>{if(typeof h=="string")return h===String(a);const R=(h==null?void 0:h.recipeId)??(h==null?void 0:h.value)??(h==null?void 0:h.id);return String(R)===String(a)})}const S=I(!1),C=I(!1);async function V(){if(!n.isAuthenticated)return;const a=y(),g=N();if(!a||!g)return;const p=await K(g,a);p===!0&&(S.value=!0),p===!1&&(S.value=!1)}F(V),J([()=>n.isAuthenticated,()=>i.fullPath,()=>t.id],V);async function $(){if(!n.isAuthenticated){localStorage.setItem("redirectAfterLogin",i.fullPath),o.push("/member/login");return}if(C.value)return;C.value=!0;const a=y(),g=N();if(!a){alert("找不到使用者資訊，請重新登入後再試。"),C.value=!1,o.push("/member/login");return}if(!g){alert("找不到食譜 ID，無法收藏。"),C.value=!1;return}const p=S.value;S.value=!p;try{if(p){const m=await _(g,a);if(!W(m))throw new Error((m==null?void 0:m.message)||"移除收藏失敗");S.value=!1}else{const m=await T(g,a);if(!H(m))throw new Error((m==null?void 0:m.message)||"加入收藏失敗");S.value=!0}}catch(m){S.value=p,(m==null?void 0:m.status)===401?(alert("請先登入再使用收藏功能"),localStorage.setItem("redirectAfterLogin",i.fullPath),o.push("/member/login")):alert((m==null?void 0:m.message)||"操作失敗，請稍後再試")}finally{C.value=!1}}return(a,g)=>(u(),d("div",de,[e("div",{class:"header-bg",style:te({background:r.value})},null,4),e("div",ue,[e("div",me,[e("h1",ge,c(l.title),1),e("button",{class:"favorite-button",onClick:$,"aria-label":"收藏食譜"},[e("img",{src:S.value?M(ie):M(oe),alt:"收藏",class:"heart-icon"},null,8,pe)])]),e("p",fe,c(l.desc),1),e("div",he,[e("span",ve,[g[0]||(g[0]=e("img",{src:Ae,alt:"時間",class:"icon"},null,-1)),B(" "+c(l.cookTimeMinutes)+"分鐘 ",1)]),e("span",Be,[g[1]||(g[1]=e("img",{src:ce,alt:"份量",class:"icon"},null,-1)),B(" "+c(l.servings)+"人份 ",1)]),e("span",we,[g[2]||(g[2]=e("img",{src:le,alt:"難度",class:"icon"},null,-1)),B(" "+c(l.difficulty),1)])])]),e("img",{src:a.$img(l.image),alt:"食譜圖片",class:"header-image"},null,8,ye)]))}},ke=w(Ue,[["__scopeId","data-v-bcbd14f4"]]),Re="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAZCAYAAAArK+5dAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAUNSURBVHgBxVVbbBRVGP5mZmd2dme722637XYXipUV2oZCII1EQiTEBBJNfJBIfDFKoiRGhRBRwZgUEhJ4UdHAg7c0PtWAQSWNIGAiiQbBCnKxLQ0uvW63e9/O7NxnjqcYE6Fsqw/G/2WSOf/5/u///ssB/mNjqh3093/IIwVeM7VOQRLZXHpIS0/OeNpXdmyJxBd3ZpOD5OZg8rPWtrWnr6f7rB07Thn3w/FUCzB6YfhFyS+8CujLasJRhnUVF6TA2NoEyxEelpYFy5L1xdztMZKqfZNeOf2vAji5wCdsLP+YUUm16cUpeDmFg5EHa7IwZwzI+UlwhAtlJiqndh468W01HLbawdb9+01dK+9y9NJYZmgMnKoDmgZSkWHmJqCWcqgoucslZ+YgdSfVcDjMY72nr5U3r25my/nyZtEjolzQEfDxcHUbk1NF6Bb/9u53z/80HwaLBcwUHuzNlww9m1VBXAaFnIqRZAHpaa04wsU/X+i+ZyGHipY1iqrnQmmssFHgWNyasOC6BCbh+8LBJLPQ/aoOPT3dopW8+YxTGX894JHb6iN+VlUs5HIVxGI10A3XGJ2yr9XGV3wQGjB7tx4/7vzjALPgnvTgF3Y5+fjSRICpyBoSHVEwLIfkQBrReBBiQMDwUA5TKdMlnmgf35B4btuuw6V7sebUgBw7xgmZ39/nndEnos0CU1MrYkkihrpoDMNTEtJqCIFwA2qaYnho1RI0NbAs56aetAqjBwkhcwjP6aL2dfHVanHgaGOYcJFoHYK1tdARQu/JLL45N41b4zbSWRdtyyMI1AioFGVIfoZKp6wYvv7ziRNnfsnOm4GSH28JBlzeJ3kRjkbAiXXYc2gIV26UsCgeQDDoxZVBBTveugxVZSH4RNSGJYi8LhqaHLsXb04XcZza0RARIdJ+D9QE8cMlGapOsPeV5UhldGimjUSLH0d6bmFkTEWEEnFNBpLEoaAUOinEuXkz4FhzZSgowF/jBy+I8Ike+o/FwPAMLIeAZVis6AjhyKE1WNVRT4n4KSkWwZAIQqyN82bQ0/28aOg3V3k8Yfj8Iu0aFg+vrkd7IoSvz6bBe1jUh73Q6SSvXxtGc6OPkhBgUj+/JNAOMZf292/nu7o+su6bgQxLsExTot0AjoJh9kvZdb/WjpeebUVriwSlYuPkmWnsPfAbUtPanXOWZWhw6u660sWLHu+8Elk2gWW5YIhLJ9YBwzAQBQ4b1jViXVcYmzY0YOf2VloXC2fPp6lkBDzPwqHy2a5rezK2WzWApsnEJRxR6MQSOJSRgd4vk3hh90VksjpcGpS+AUg8IN1hbNk2bMek4CZ0zZolZhmFcadqDQpjmfqGekgFujWbKUPLkGkNfDjep2PfO1cRCYs0CMGlyxnYtoMNj4Tu+CiyimLBgEO4JktwGinUeFWJyiWZKZdNZNIKNKWCeKOLA3va0BL3YWRCpmu6glCQx743lmJRk02ZqyhRQjkaoKIYQU3TF/8d765J/vHGRGlNon5S14z1umZLjknlpDKE/A4eXRtCrElCV2cttmwOQeIpYF5BaqSEVEpHckxBNls5U+eNfPzd1dvaX5j3XXYvP9W+JOLnttWF+E1+P7vM52UDkt8j+Hw8MyvR7APG0hYrFDWSnlbNbMHKl2XyqdcIvnf4+1/vWnjz7vPu7qeFiGZElMJ0M2PNSILf86e/bc0mBtkktqZD1pzQ5NGvLuXxf9gfjZRs0hq5x3UAAAAASUVORK5CYII=",Ee={class:"price-card-outer"},Ce={class:"price-card-inner"},Ie={class:"main-row"},Ne={class:"info-block"},Qe={class:"item-name"},Ze={class:"item-price"},Ye={class:"item-unit"},je={__name:"MainIngredientPrice",props:{items:{type:Array,default:()=>[]},cost:{type:[Number,String],default:""}},setup(l){function t(r){let s=0;if(typeof r=="number")s=r;else if(typeof r=="string"){const f=r.match(/-?\d+(\.\d+)?/);f?s=Number(f[0]):r.includes("上升")||r.trim().startsWith("+")?s=1:(r.includes("下降")||r.trim().startsWith("-"))&&(s=-1)}const n=Math.abs(s),i=typeof r=="number"&&n>0&&n<1||typeof r=="string"&&!r.includes("%")&&/^-?0?\.\d+/.test(r)?n*100:n,A=Number(i.toFixed(2)).toString().replace(/\.00$/,"").replace(/(\.\d*[1-9])0+$/,"$1");return{show:s!==0,isUp:s>0,isDown:s<0,value:A}}return(r,s)=>(u(),d("div",Ee,[e("div",Ce,[s[1]||(s[1]=e("h3",{class:"title"},"主要食材當前價格",-1)),e("div",Ie,[s[0]||(s[0]=e("div",{class:"money-icon"},[e("img",{src:Re,alt:"icon"})],-1)),e("div",Ne,[(u(!0),d(b,null,U(l.items,n=>(u(),d("div",{key:n.name,class:"main-price-row"},[e("span",Qe,c(n.name),1),e("span",Ze,"$"+c(n.displayPrice),1),e("span",Ye,"/"+c(n.unit),1),t(n.trend).show?(u(),d("span",{key:0,class:P(["item-change",{up:t(n.trend).isUp,down:t(n.trend).isDown}])},c(t(n.trend).isUp?"↑":"↓")+" 比上週"+c(t(n.trend).isUp?"貴":"便宜")+" "+c(t(n.trend).value)+"% ",3)):E("",!0)]))),128))])])])]))}},Pe=w(je,[["__scopeId","data-v-82b1f502"]]),De="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAYAAABG1c6oAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAMZSURBVHgBpZNbaBNZGMe/c+YkM2baNJ2kmWx3e8l2de1S26WbXXXdLVZFFBUEaX3QB28o4gXRgheUWH1Q0Rcv6IsgUn1RrKKgCCoKilqloOIFrVo1iVZznWSSyVzOmPZBKNg61d/z9/34f985H8AICJqTSfDieOdwNQisyoJBfMF37CZo9vQm34I5t4WzbcWYZxJZpV4oklSbkXjufCzstixc0vlfw9NwvEN6afzqroAuxi1PMnVqd9kBXKwCyYRx1y8UNxOrwj5JI1Kf4c+FVT4q5ptxGINPJKDICO53ax8hr60/dySUw1aFewIbHnkY0gOGDlqaAXcRF5V7UP7JdQUS76nA21BNfx1jVXj48GljbONvnELVQEm5jUs+RFJWxS73OAZ+Hwe4upzkSv6Uz1tO2M+ksU3XfJWlL4zIKFrsZ3+qmEBBLFMBZfUIzSnbrreD/s1HiW+u/x/pmeWE4/yXsiizr4+6U3LmSPV0M4U1LKSjmuP15fyZ8N14qL9+WGFi9ZgGRBN3WLfA4SIXqEmJ9mplJ+r23liMEKJf6xly5Adt9TyT/7SfLeE5IpQBUAxmDmHbu/D8+1sWTRyqb0hhZfLtUoa3NRGPCKZGQQu/BymSgHgOCFvCMSMSJtdVNRIW2m0+DzKBgvEpDpmYAq9iJigu8bha2njbsvDFmpksllPH7aLoQg4PGIVIciQFr6IA9prRHd7Z61YGVqzQhhIOuhSzpYWRlSvrGdeoOuAF0GNJSL+Jw+sYAuKv6XRMm7KsrrVVhWEYJEyLtyYwFAWx52egch5SPTHojRZGFqs6yydOXeBvbR9WNkg4MKp57wApr2QpIpDueQPvomCi6tqOf2fOWI3mblTAAl926JG7tmHe1WhgFuRnIQglGNCrRh/8Z1bTyoIsDRYZ+NiRVbVVDjPbRTxer9z7obAzoMQ/Zvtf87buQs3NOoyAgYSYsS00Oac39jYGLyXbRz4wviVw6OrOkcoGEj5om+51p0LdGR2VSpS9zP5Ru7Zh48kQfCeE6g41bDqPOn+puPD3jlPdhRs14Qf4DB7RPI3xPH/dAAAAAElFTkSuQmCC",Fe={class:"ingredients-card"},xe={class:"ingredients-list"},Ve={class:"name"},Oe={class:"quantity"},Le={__name:"IngredientsList",props:{ingredients:{type:Array,default:()=>[]}},setup(l){return(t,r)=>(u(),d("div",Fe,[r[0]||(r[0]=e("h3",{class:"card-title"},[e("img",{src:De,alt:"食材",class:"title-icon"}),B(" 食材清單 ")],-1)),e("ul",xe,[(u(!0),d(b,null,U(l.ingredients,(s,n)=>(u(),d("li",{key:s.name+n,class:"ingredient-item"},[e("span",Ve,c(s.name),1),e("span",Oe,c(s.quantityUnit),1)]))),128))])]))}},Me=w(Le,[["__scopeId","data-v-d05242df"]]),Xe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAhCAYAAADZPosTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAMCSURBVHgB7VU7bhRBEH09MztrLBwhAgIiBJbIkDAW4g5cgAgRkHAORI5IkMhAIjSIkBvgGyAjB5AgGxnZAm9Pdxevqnp218sNwL2a7f/rV69ezwDn5d8vQf92d7+ty8Xjq32/PNVjg/8xem/GZwMRkYu0zSamdVw7ayEc3tjcPOy0m6Yn96fSv2zzBKEJCCEgl4DTBsidoGPNCrOwhqJHkQaXQvjr+JTEtSU94/BTA2wxmXSTfqNXik2DJjTIBFCgXGrNfqtAqHURNAopBZkDacBEsQyQiCgEUrDQtHxYE4BETRPiW187bOLrj4h3n44MDJJx80qHu9emWACyNOKSariKLQyZ0fMgB9RYrWY5OEl4/vHAQpaS8ODOBu5dXwLMjCMxhE50gVPJXKzsSvEwtdai02JtbYgxL6xTXbBgyAUtZ0NQbYqBGrEapgTXzqUoIyox9WBP3ALQGEac5sQNHVruDNJzY2uMFFRrY2Nsi7HTn46olqUyrLgZH052sLW3jdtftnFrbws7x68JMDKpdX2acczAXINmOeSBnZRVhzEcjpF1pGd0TBNjWgaHiUkcCA6mFoplJWTb4dIZb2NXfCBUDbURLGnZgKQCzqOYZxlu1HFe9VHGA9vx1Quc/jwytaRfw9rjJ3TFCOS1aIRpCbCtJ7ryoy/VEhknb99g2N/3sUuXceHhI0uO+Ml68bhllSGNWLIYZggOmk2/7Fk2vSrz5LouEiKMjllOZ3yYearMNSzB72lbdarym980aa1U/4nf5fCXhrnYKdX8fkOyuz/LuLQaxdbCtZOFlimt3BRDGt1rRnazVrdhFLdwTamAqCFLKfO7WX2YecIiZLVI5okD06z6mVPsVaUe5No8MoQlJLGdgFUNqw9RY7YNiSGLD4dgGurrSirDUNn53rSkYfT7qboFczAzx6syxIEni52um9VKwzCQvcY+eLJMmnT2bdOU+D3E+H6q7/zW6KCbkeHkF2Zqi/qxCevrkPgbgYB9msEU5nzH70FT0mecl/+k/AGj1T5zy24VgwAAAABJRU5ErkJggg==",ze={class:"nutrition-card"},Je={class:"grid"},qe={class:"value"},Ge={class:"label"},Te={__name:"MainNutritionCard",props:{data:{type:[Object,Array],default:()=>({})}},setup(l){const t=l,r={calories:"卡路里",carbohydrate:"碳水化合物",potassium:"鉀",fiber:"膳食纖維","dietary fiber":"膳食纖維","vitamin c":"維生素C",folate:"葉酸",sugar:"糖",sugars:"糖",iron:"鐵",calcium:"鈣",protein:"蛋白質","vitamin b12":"維生素B12",fat:"脂肪",cholesterol:"膽固醇","omega-3":"Omega-3 脂肪酸","vitamin d":"維生素D","vitamin a":"維生素A","vitamin k":"維生素K",zinc:"鋅","vitamin b6":"維生素B6",sodium:"鈉",magnesium:"鎂"};function s(o){const i=String(o||"").trim(),A=i.toLowerCase();if(r[A])return r[A];const f=A.match(/^vitamin\s+([a-z]\d*)$/i);return f?`維生素${f[1].toUpperCase()}`:/^omega[-\s]?3$/i.test(A)?r["omega-3"]:i}const n=j(()=>{if(Array.isArray(t.data)){const i={};return t.data.forEach(A=>{if(typeof A!="string")return;const f=A.match(/^\s*([^:：]+)\s*[:：]\s*(.+)\s*$/);if(!f)return;const y=s(f[1]),N=f[2].trim();i[y]=N}),i}const o={};return Object.entries(t.data||{}).forEach(([i,A])=>{o[s(i)]=A}),o});return(o,i)=>(u(),d("div",ze,[i[0]||(i[0]=e("h3",{class:"card-title"},[e("img",{src:Xe,alt:"營養資訊",class:"icon"}),B(" 營養資訊 ")],-1)),e("div",Je,[(u(!0),d(b,null,U(n.value,(A,f)=>(u(),d("div",{key:f,class:"grid-item"},[e("span",qe,c(A),1),e("span",Ge,c(f),1)]))),128))])]))}},_e=w(Te,[["__scopeId","data-v-0f65e6bc"]]),He="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAhCAYAAADZPosTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAQnSURBVHgB7VVLj9tUGD1x7Djvp+O8ZtIUgWjYFMFAR2wQoD6AaiRYDBXiH/AXKs2GFRtWbEYsEN2xQiDUDSAhhFToCFUtGgm1gWmmyTiJM7GTcTx52Oa7dyZpOquu297oxnZin3vOuef7DDwbT/7wsa9GoxGmwzI7DwQCj/3weDyen8diMT0Wj++Lx9droihu0oTP5+Pz5PA8j//OjrMRDAb5teM4GAwGn8WBzzkg3SjRiNGEIAhzwBnASaDZAvRNYC6mkwm7ltjvHNDv9/OHTNOEZQ2RSiW59FarhWg0Cl3volxeRqejQ5YDiIQjMPsmJpMpv4/dPxvi4qoMmMl2XRfOdApFyZLJHpaWSnzBdDoFTdNg24fI5VRi5YIRdUnybAgLGoidxRkkk0n4SLptD9Hd3+de2bYNazhEpVKBqirodrsY9AfcIocIMBJzhsxUl5ixPw3DQCQSJnkdNJtNLJVKmN0zHo3of5Ms0AnAQSgcgkwkLAKTEomHgAydmczklkpFLkNRFJoZLs9PC1EswDYtGJQ58Gg8QmhPg1KrAV0dN4a2srGxIcw9ZKA2SWq1W4hFolwel0HeNRpNsuMAMkkPsajQZ3e3gWyhjJ5PxtnTz+GFra1PSdUP4rEeeGwj6Jgi/wTBj3AkwmWx7EfpvEMsZCmAv27dxsu5fyiEPdzRsvD8Eg7rdSRDIUlNJi8decgec6acwczcITGksOKQ5FVOnaIFPUwdDy9Gb6Jof4VyvAhtx4Ehv44bjo3lofV3IZP5cr4pguDD9vY2P69Wz0DJZJAlH9kCU4pQhGzw6ptYkq4hFKcFAgmcy/6M67d2UaunUBfl7764evW+sOjhS9UqVlfPIZPO8E1iQOPJmPykTdj5Gupok8BUQE6gb/Rx/56JjPsH0okQ3rt8+XAh2BQbklP7t4bychl9ksrKKkvBZps0ffAtVpLfEE6FukcSZtfEf3e76FkObvY/xNvn11AsFBZzSFUieCjk8xQNEeFwGJIocR8j1i94PnGNwMqcmdkziFkPhgX82lnDhfc/QE5V2fonckimN/f2KMwaLyuRyrDdbuNN5TfIqeIxMwP1HQuaIeDHu6/g1TdWkM/lcNQ3vIVaZptCzNSsytkVi0VeimpshFj4IsZuDaPWT9ht+qCbDrbMS1j/5CMUCvl5FbmLzYHHhljWKPWsInTqKtbQQt7/ABPHh5ZRwIGxgn7/T/yun8c7715BPp/nGT1qEIyd+yjD3qBPUnNIUUcJUIlpLQ2372zjtWoKe7qFeieNg+k63rp4gZqDOs8rA3PZXGwOYwJkPY5VydFbweOt63rDgzlxkS+ewdnV0xxIomphEmdNlwMyyc6jDNsT1/2edobalo/bmyDpH19ZRzQW5U1jZjvLpYCHrwjHc3jXpnK9h2fjKRn/A/FaGrbj9B7JAAAAAElFTkSuQmCC",We="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAARCAYAAAA7bUf6AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHVSURBVHgBlZNNThtBEIWrehxnkQVzgzi7KJJN20nWDCeAnCCTE5hdlJ/JxCFEyorhBIYTwA1s9iC3zQJ2DDewMBJi8FRRbcAyowaZWrWqq7+uev0a4ZHQPz4EpGgFAX0G7itFezAuVczGQbdYi87DHrWZOEXgPWAYjhn68AJA5bBS8mCH2Fsa/DnccUJqUeM3AH9mgPBovbcPjngXay2wJQszLTN8sFmNGmEtqp++/aors/nF6P2uC1aN6p3qN71q16XJCLGuEEOcXfHyyX+TzhaLHqsuyGjEn/wFObumfWUTOamAGbpFwFORJmZIpGJ6JTrZBCI0mXkNnhnnI2pZmLrrWXsj7sMzw45T+9U4VfcJkxSUniPs61yXObiFIAzrf+uv3aWcLkaNthW/uCM5Xb6CZAIRPUx+qQIXYrDee8NEfSLsiI82C7CU4A4CyAkjhfBIDDZMkmW8LCb08wz0tEfC9nXGZ9NCax65ae4Xko786ncd2vVUWCF+EW3ieUDW3XmOu0f/zPZkkNlNa/lyGTvyc7uoqCXqpw9v/6iZ8qa4OLDj3ZsTXW3Kr20qxtC6EAlvQcgVOewTc3JxAVvpjCXwqbbtj/UIF+x6/BLS45+9M1fdDb9j3U946FngAAAAAElFTkSuQmCC",Ke={class:"steps-card"},$e={class:"step-header"},es={class:"step-num"},ss={class:"step-title"},ts={class:"step-desc"},ns={key:0,class:"step-time"},as={key:0,class:"tags"},is={__name:"RecipeSteps",props:{steps:{type:Array,default:()=>[]},times:{type:Array,default:()=>[]},tags:{type:Array,default:()=>[]}},setup(l){const t=s=>s.split("：")[0]||s,r=s=>s.split("：").slice(1).join("：");return(s,n)=>(u(),d("div",Ke,[n[1]||(n[1]=e("h3",{class:"card-title"},[e("img",{src:He,alt:"步驟",class:"title-icon"}),B(" 料理步驟 ")],-1)),(u(!0),d(b,null,U(l.steps,(o,i)=>(u(),d("div",{key:i,class:"step-item"},[e("div",$e,[e("div",es,c(i+1),1),e("div",ss,c(t(o)),1)]),e("p",ts,c(r(o)),1),l.times[i]?(u(),d("div",ns,[n[0]||(n[0]=e("img",{src:We,alt:"時間",class:"time-icon"},null,-1)),B(" "+c(l.times[i]),1)])):E("",!0)]))),128)),l.tags.length?(u(),d("div",as,[(u(!0),d(b,null,U(l.tags,(o,i)=>(u(),d("span",{key:i,class:"tag"},c(o),1))),128))])):E("",!0)]))}},os=w(is,[["__scopeId","data-v-522ba085"]]),rs="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAhCAYAAADZPosTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAPgSURBVHgB7VRtaFtVGH7PuTf3q0maNE1s06ykWZuNlmLZQMcYTulwuA0VpRsO/8jcHB3KBIXhByN/uj+KoE6lOsFRBjNjtAMVuzHDdArS0lIqbs26ujZr2ub74ya5uR/HkwpFsc2Gf/yxPnA5l/Oe9znPeb8A1rGO/x+omvHi0Y0ul7/5cSQqobtXmxI97e0EBQJGNR+8JlnfI47nPpuOCZ7d3xcjxlP1DSMTY3B+PHza88XvfU2OtfzYtQxKDu0hBAYQOpGh69kLvdt2Sck7L5qb9c4iGBWVr9CP3LdCd2OdsX//X3aEgHTuPtxblpqWVBkD5yZbv37dI8D9PPnDV1v5j5+xPipkZvYGg6CPHNlq+iPY8vLmZw/lPE5ukBcxsPV69rexVvWehF/1NDY7okvfuO34ZyvIB66+6d8zSvcnf+S2VexqojCkJbjhRNg8EQiFtKqEwUMbevVC+jox9O6ONgeW02UcCd8+fqR/VGN47lblzKZT499OFb17I7fUz2lcV62Q5aQMH3W+lU3G3hU5Rmj124HDJoinyqCXwVmxNzj5lYufCCwrm4Q+WBXo7BtP1jCRXyeIovkQRtD5sAeMUgHuzqZgLq78FJ3d2L1lx9KwUihnsmlFVQk4OJ5VzHap78CZ2LV/KRS0VFteLjUT3YA6hwUSCxnARAdNx0UWo0/t3js7p2e0HW1eO6Pm6b6sQkrWIJMrPHTucMOpm+GFi4EQrMQTs7yd8CJPEMOAZJaglCtDMq5ANKn2c+2PDYkM+oDohEmkFbBaa8Bm5sEuIKjBetfsdPZ8nc3xwj+SEikwN1Qdz0kSB1q+BKiklIqEOaZbpXfsTOx5kSMdJmxAOpGn72GBM7Fg5kwgYgZqaWTllHz6/X3WkyuEr330nSJI5mssL2WTRTI4uahvP3gh8cmxYCyPNd3HUieLyIBFwJBNZ8DRaAanxwrOBjO4KGOjBBYok4OXTu6TVrJcJMK5+Yx24u1L0cW/y88Z4piznoe5iA6cwAGmSVucT4LTJoJe1AEZtGto9fC64p+/OdJLXd5bJnxpIHx5tRLAnCWkqtJUS5Phz9EXa6oOOUqk0hz4Nkkg5wgsRWlnZ0uglTLLU4iBKghev63s6vJFvPXFnW4bssRzKtXDUScMBp0LNRIP9IcS0ysIkz7u3j5YlbCCodGFG75a27jLVu4oqCDV1SDBIhAo007mGAM2tJjpykIqrsw9fTk8cE/CCq5M5WbO/FLqd4LyJWLocBBNFrlMENCyFDVZqHVwIJpI/Q9eMYPgP6KnBxhXcrNtiyPdncwXu1hWEBcU6xVYxwOAPwHFhJ5rzf2MuwAAAABJRU5ErkJggg==",As={class:"season-card"},cs={class:"header"},ls={class:"title"},ds={class:"grid"},us={key:0,class:"badge"},ms=["src","alt"],gs={class:"item-name"},ps={class:"item-price"},fs={__name:"SeasonalRecommend",props:{items:{type:Array,default:()=>[]},month:{type:String,default:()=>`${new Date().getMonth()+1}月`}},setup(l){return(t,r)=>(u(),d("div",As,[e("div",cs,[r[0]||(r[0]=e("img",{src:rs,alt:"當季推薦",class:"header-icon"},null,-1)),e("h3",ls,"當季推薦食材（"+c(l.month)+"）",1)]),r[1]||(r[1]=e("p",{class:"subtitle"}," 以下是目前當季且價格實惠的蔬果，適合製作類似料理 ",-1)),e("div",ds,[(u(!0),d(b,null,U(l.items,s=>(u(),d("div",{key:s.name,class:P(["item-card",{recommended:s.recommended}])},[s.recommended?(u(),d("div",us,"推薦")):E("",!0),e("img",{src:t.$img(s.image),alt:s.name,class:"item-img"},null,8,ms),e("div",gs,c(s.name),1),e("div",ps,c(s.displayPrice),1)],2))),128))])]))}},hs=w(fs,[["__scopeId","data-v-e0e41699"]]),G="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAhCAYAAADZPosTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAKpSURBVHgB7ZU9TBRBFMff7M7dsbewB8gJGoFAoNCoQY220FrZ25mYmGiFjVEqKegMNpZGKxKjFhb0FgYTiSbgd0JQErzjvO+7vdud3fnw7YGRHHAHtN4/ebubmff/7Zu3L1mAllo6sEijzdTHe70hX5wnlF7QlR4VRL4TsrLYMzb768DA0vLUFRKxZnWja0ij7bVUyW1QrJBgdn6m+9zMo30Dcx/uXI4eGXxBzOGoRuMAmomZBJSogPLTICqrwMvJ69aZ6cdNgQsLk8ZYvO9bqOfSAAn3g0ZjCDS2gB5IPweSrQHPL1XBq46Yp6aS2/1aPfCsZY7Tjv4BLXwMtFAngG4C0SNAtDYg1AQ9HActcgKoNRQVgl2t9+8AQig8TiJ4TD2oimJhf1PU5rOGa9hTEuoGEjYu1tvpDqDS+5BW6wapYSRetnVGydo6NgDZWH4zoAZqSQkbQHqgNA8C3r+DKFCKYy8d5FYxhf/c6a8vUJJnys04kpdwTAIjQ6iL4YBESPAyyfO49FsKIE+bAoOv5jvph9JdB4VGxXFU5GZFOCugvCzCEsCd3PPOk3ffNwXWoPToNLfX3kqW3ILam2C/gGOzgcWufxeuurmbd1cgGbrmcl6eFE7Ckx4ezy9ilEH4JRBORoFXnIqdvp3bNzCQNcoWBSu85m4WuFvAyINwEcxKX41R99Vevj2BhNyX4LEfwsPKWAEjX7v7rLqCe/zAwEBvlrXFVDEGVREHjxyHstcLSys00chDG22mykY5mo2AHu0BgxqQsTcg57QnDw0keltiI5VVQmkkZnVAOp0Bl6nUoYGSQ9FVzLErTtTnEqoOA1/o4tBAs6vry+dPy0+8ldUbUgpqWdbLgcG++Uaehr+AQBMTE5Q5zi2lRHx4pPfB3Nx8Hlr6z/UHA+pbZfwZ+gkAAAAASUVORK5CYII=",vs={key:0,class:"subs-card"},Bs={class:"grid"},ws={class:"card-header"},ys=["src","alt"],Ss={class:"header-right"},bs={class:"card-title"},Us={class:"badge"},ks={class:"card-desc"},Rs={__name:"SubstituteRecommendations",props:{subs:{type:Array,default:()=>[]}},setup(l){const t=l,r=j(()=>(Array.isArray(t.subs)?t.subs:[]).filter(o=>{if(!o)return!1;const{name:i,image:A,description:f,save:y}=o;return i&&String(i).trim()!==""||A&&String(A).trim()!==""||f&&String(f).trim()!==""||y!==void 0})),s=j(()=>r.value.length>0);return(n,o)=>s.value?(u(),d("div",vs,[o[0]||(o[0]=e("div",{class:"header"},[e("img",{src:G,alt:"當季推薦",class:"header-icon"}),e("span",{class:"title"},"當季替代食譜推薦")],-1)),o[1]||(o[1]=e("div",{class:"subtitle"}," 根據目前蔬果價格，為您推薦更經濟的類似料理 ",-1)),e("div",Bs,[(u(!0),d(b,null,U(r.value,i=>(u(),d("div",{key:i.name,class:"card"},[e("div",ws,[e("img",{src:n.$img(i.image),alt:i.name,class:"card-icon"},null,8,ys),e("div",Ss,[e("h4",bs,c(i.name),1),e("span",Us,"省$"+c(i.save),1)])]),e("p",ks,c(i.description),1)]))),128))])])):E("",!0)}},Es=w(Rs,[["__scopeId","data-v-6b7b03aa"]]),Cs="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAhCAYAAADZPosTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAOVSURBVHgB7VRJi1xVFP7u8LoqpR1T6YUQ1I0xooKIadMmTltFBEUEwYUuoln4D1y5ERyI0URa3QhCEFw4EDdOGJDYCxERIQ6gSRDUkKmTdFdX57137813zn2vUkX/gyT31alzh3e++53hHeDquPyHkb+FhYV1/f5NvenpSwdLFFkujSZU02sB9JxjcfGfle07dqx6WZSdmYdXUvlOGDpe4WAtUAXgPJc133AlEAoaV9TcdzwPMevoI6q6MuumN+4huzcU0BS2V0x1NvkpD2MsASk08DSwrWGipoWjtqqT6lQHVD/9CD871xMsK39OlDH8CTsP5xzFw1Kc96N5K861ew7VLz+jpFibXVcVRHgzf4gEjslkjbWS0JzRk+QLLM/vRbhQ82wMsJ0Y1UnIqqk1SdfWJrqb16bZM3Q5/nEY5aHv0bn/ATKJk4BIsiE014phANPYWucM4ODN1+G33YvO7D3im8JoUqa4UCaqjd4iSRjpZi5JkDudhOjoESx9cQD9jz+Fi3Q5jgGWQcqEYBTH+AlA3RBqYytabFQKj/Pz+2A2b4G7627ahhFgdjmG7DIlxSxqmcbmsp+yhD9/w/Jnn6D7wouKkGKYZCijZj25inl0wjBppuUOYYqGqdRkYmkN938IMzODzhNP0q5U7yYY8k7ayO1BmZiGreFaBLofMvsT/2Ppo/2YenYnL6iYsFxQGGcYGMTKsqhdBvF8AgGCbTy3makU/OD9eZj+RhSPPY6yEma0pU71RNkEzbCjeLo8/OBd1Ae/gTtzUuvPMb1yZk8dx+DA5ygeeRR+w3p4E3Tfjcq6ZageRS2Rla+/xPKrr8B0u1hcXYW94UZ057ajmN2G+vfDSCvLuPb5XYh1nRNEu6DuTiQlx6z+718MXn4JnQcfwvq354FjRzA49AMu8OMf7t2NdPIEOs88B7Ohr03BoI11Uw3jDEth99ZuRMay+9oelLaA23wriptvQ2/nLtTnziEe/Rvm+k0oy0q9EUBhKFluY5gB+dTfHcTqt1/hun3vwV3T0xczeb6MGmAI/O13ZMc0U/m7Ng1DY8diWEUHf+wv+Keeht3KWFV1/kKiaXRSLf0wO5r065F6lfjJ5Wbc5QIl/C1bUMzdx5IrtU1JS5OuI+8ZZlk+w2hT7g9yLk1CH6nfOsezBRwOhmfTnVt/rcoSlr1f6AuoR+6Vbcs3TVNiOSqga9yvo9SuOY2r4woZFwHuVCPdjVtssgAAAABJRU5ErkJggg==",Is={class:"market-card"},Ns={class:"trend-box"},Qs={class:"trend-title-row"},Zs={class:"trend-date"},Ys={class:"trend-list"},js={class:"trend-name"},Ps=["src","alt"],Ds={class:"trend-value"},Fs={key:0,class:"trend-tip"},xs={class:"tip-text"},Vs={__name:"MarketTrends",props:{trends:{type:Array,default:()=>[]},date:{type:String,default:()=>{const l=new Date;return`${l.getMonth()+1}/${l.getDate()}`}},tip:{type:String}},setup(l){const t=s=>{if(typeof s=="number")return s;if(typeof s=="string"){const n=s.match(/-?\d+(\.\d+)?/);return n?Number(n[0]):/上升/.test(s)||s.startsWith("+")?1:/下降/.test(s)||s.startsWith("-")?-1:0}return 0},r=s=>{const n=t(s);if(n===0)return"-";const o=Math.abs(n),A=(typeof s=="number"?Math.abs(s)>0&&Math.abs(s)<1:typeof s=="string"&&!s.includes("%")&&/^-?0?\.\d+/.test(s))?o*100:o;return`${n>0?"↑":"↓"}${Number(A.toFixed(2)).toString().replace(/\.00$/,"")}%`};return(s,n)=>(u(),d("div",Is,[n[2]||(n[2]=e("div",{class:"market-header"},[e("img",{src:Cs,alt:"行情图标",class:"market-icon"}),e("h3",{class:"market-title"},"市場行情")],-1)),e("div",Ns,[e("div",Qs,[n[0]||(n[0]=e("span",{class:"trend-title"},"本週蔬果價格趨勢",-1)),e("span",Zs,"更新："+c(l.date),1)]),e("div",Ys,[(u(!0),d(b,null,U(l.trends,o=>(u(),d("div",{key:o.name,class:"trend-row"},[e("div",js,[e("img",{src:s.$img(o.image),alt:o.name,class:"trend-icon"},null,8,Ps),B(" "+c(o.name),1)]),e("div",Ds,[e("span",{class:P(["price",{"no-change":t(o.trend)===0}])}," $"+c(o.displayPrice)+c(o.unit),3),e("span",{class:P(["change",{up:t(o.trend)>0,down:t(o.trend)<0}])},c(r(o.trend)),3)])]))),128))])]),l.tip?(u(),d("div",Fs,[n[1]||(n[1]=e("div",{class:"tip-header"},[e("img",{src:G,alt:"提示圖示",class:"tip-icon"}),e("span",{class:"tip-title"},"省錢小提醒")],-1)),e("p",xs,c(l.tip),1)])):E("",!0)]))}},Os=w(Vs,[["__scopeId","data-v-c23667f3"]]),Ls={key:0},Ms={key:1},Xs={key:2},zs={class:"breadcrumb"},Js={class:"current"},qs={class:"recipe-detail"},Gs={class:"block header"},Ts={class:"left-col"},_s={class:"block steps"},Hs={class:"block season"},Ws={class:"block subs"},Ks={class:"right-col"},$s={class:"block price"},et={class:"block ing"},st={class:"block nut"},tt={class:"block trend"},nt={class:"block related"},at={key:3},it={__name:"RecipeDetail",setup(l){const t=I(null),r=q(),s=I(!1),n=I(null),o=async i=>{if(!i){t.value=null;return}s.value=!0,n.value=null;try{const A=await ae.get("/api/recipe/findRecipeData",{params:{recipeId:i}});t.value=A.data.data}catch(A){console.error("載入食譜失敗：",A),n.value="載入食譜失敗",t.value=null}finally{s.value=!1}};return F(()=>{o(r.params.id)}),J(()=>r.params.id,i=>{o(i)}),(i,A)=>{const f=z("RouterLink"),y=z("Footer");return s.value?(u(),d("div",Ls,"載入中…")):n.value?(u(),d("div",Ms,c(n.value),1)):t.value?(u(),d("div",Xs,[e("div",zs,[v(f,{to:"/",class:"crumb"},{default:X(()=>A[0]||(A[0]=[B("首頁")])),_:1}),A[2]||(A[2]=e("span",{class:"sep"},"›",-1)),v(f,{to:"/ai-recommendation",class:"crumb"},{default:X(()=>A[1]||(A[1]=[B("食譜推薦")])),_:1}),A[3]||(A[3]=e("span",{class:"sep"},"›",-1)),e("span",Js,c(t.value.name),1)]),e("div",qs,[e("div",Gs,[v(ke,{title:t.value.name,desc:t.value.description,image:t.value.image,"cook-time-minutes":t.value.cookTimeMinutes,servings:t.value.servings,difficulty:t.value.difficulty,gradientColors:t.value.gradientColors||[]},null,8,["title","desc","image","cook-time-minutes","servings","difficulty","gradientColors"])]),e("div",Ts,[e("div",_s,[v(os,{steps:t.value.instruction||[],times:t.value.times||[],tags:t.value.tag||[]},null,8,["steps","times","tags"])]),e("div",Hs,[v(hs,{items:t.value.seasonalItems,month:`${new Date().getMonth()+1}月`},null,8,["items","month"])]),e("div",Ws,[v(Es,{subs:t.value.substitutes},null,8,["subs"])])]),e("div",Ks,[e("div",$s,[v(Pe,{items:t.value.mainIngredient,cost:t.value.mainPriceCost},null,8,["items","cost"])]),e("div",et,[v(Me,{ingredients:t.value.ingredients},null,8,["ingredients"])]),e("div",st,[v(_e,{data:t.value.nutrition},null,8,["data"])]),e("div",tt,[v(Os,{trends:t.value.marketTrends,tip:t.value.marketTip},null,8,["trends","tip"])])]),e("div",nt,[v(re,{recipes:t.value.recipeSuggestions},null,8,["recipes"])])]),v(y)])):(u(),d("div",at,A[4]||(A[4]=[e("p",null,"找不到這個食譜！",-1)])))}}},ct=w(it,[["__scopeId","data-v-d8e88bd9"]]);export{ct as default};
