import{w as bt,g as E,h as wt,x as Dt,y as Mt,i as kt,l as je,_ as X,t as ze,r as $,j as R,c as v,o as h,b as a,k as U,a as ae,m as f,n as ce,p as qe,q as Yt,s as fe,e as Nt,F as O,v as ue,z as Q,A as ge,B as Bt,C as It,D as Vt,E as Ft,G as xt,H as be,I as Et,u as Rt,d as Ot,J as Ht,f as b,K as Lt}from"./index-COHCuRcN.js";import{_ as Pt,R as Ne}from"./RecipeRecommendCard-wgVVcPG8.js";const he=new Date,ye=new Date;function W(e,t,n,r){function u(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return u.floor=s=>(e(s=new Date(+s)),s),u.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),u.round=s=>{const c=u(s),l=u.ceil(s);return s-c<l-s?c:l},u.offset=(s,c)=>(t(s=new Date(+s),c==null?1:Math.floor(c)),s),u.range=(s,c,l)=>{const A=[];if(s=u.ceil(s),l=l==null?1:Math.floor(l),!(s<c)||!(l>0))return A;let g;do A.push(g=new Date(+s)),t(s,l),e(s);while(g<s&&s<c);return A},u.filter=s=>W(c=>{if(c>=c)for(;e(c),!s(c);)c.setTime(c-1)},(c,l)=>{if(c>=c)if(l<0)for(;++l<=0;)for(;t(c,-1),!s(c););else for(;--l>=0;)for(;t(c,1),!s(c););}),n&&(u.count=(s,c)=>(he.setTime(+s),ye.setTime(+c),e(he),e(ye),Math.floor(n(he,ye))),u.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?u.filter(r?c=>r(c)%s===0:c=>u.count(0,c)%s===0):u)),u}const Qt=1e3,we=Qt*60,Kt=we*60,le=Kt*24,et=le*7,De=W(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*we)/le,e=>e.getDate()-1);De.range;const Me=W(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/le,e=>e.getUTCDate()-1);Me.range;const Wt=W(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/le,e=>Math.floor(e/le));Wt.range;function z(e){return W(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*we)/et)}const tt=z(0),pe=z(1),$t=z(2),Xt=z(3),ne=z(4),Jt=z(5),Gt=z(6);tt.range;pe.range;$t.range;Xt.range;ne.range;Jt.range;Gt.range;function q(e){return W(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/et)}const nt=q(0),me=q(1),Zt=q(2),jt=q(3),re=q(4),zt=q(5),qt=q(6);nt.range;me.range;Zt.range;jt.range;re.range;zt.range;qt.range;const Z=W(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Z.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:W(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Z.range;const j=W(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());j.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:W(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});j.range;function Ce(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function _e(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function se(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function en(e){var t=e.dateTime,n=e.date,r=e.time,u=e.periods,s=e.days,c=e.shortDays,l=e.months,A=e.shortMonths,g=ie(u),m=oe(u),o=ie(s),p=oe(s),w=ie(c),D=oe(c),F=ie(l),x=oe(l),N=ie(A),H=oe(A),Y={a:gt,A:ft,b:pt,B:mt,c:null,d:Ee,e:Ee,f:Un,g:Vn,G:xn,H:_n,I:Sn,j:Tn,L:rt,m:bn,M:wn,p:vt,q:ht,Q:He,s:Le,S:Dn,u:Mn,U:kn,V:Yn,w:Nn,W:Bn,x:null,X:null,y:In,Y:Fn,Z:En,"%":Oe},M={a:yt,A:Ct,b:_t,B:St,c:null,d:Re,e:Re,f:Ln,g:jn,G:qn,H:Rn,I:On,j:Hn,L:st,m:Pn,M:Qn,p:Tt,q:Ut,Q:He,s:Le,S:Kn,u:Wn,U:$n,V:Xn,w:Jn,W:Gn,x:null,X:null,y:Zn,Y:zn,Z:er,"%":Oe},L={a:ve,A:S,b:P,B:ut,c:lt,d:Fe,e:Fe,f:vn,g:Ve,G:Ie,H:xe,I:xe,j:gn,L:mn,m:dn,M:fn,p:ke,q:An,Q:yn,s:Cn,S:pn,u:sn,U:on,V:cn,w:an,W:un,x:At,X:dt,y:Ve,Y:Ie,Z:ln,"%":hn};Y.x=K(n,Y),Y.X=K(r,Y),Y.c=K(t,Y),M.x=K(n,M),M.X=K(r,M),M.c=K(t,M);function K(d,y){return function(C){var i=[],B=-1,T=0,I=d.length,V,G,Ye;for(C instanceof Date||(C=new Date(+C));++B<I;)d.charCodeAt(B)===37&&(i.push(d.slice(T,B)),(G=Be[V=d.charAt(++B)])!=null?V=d.charAt(++B):G=V==="e"?" ":"0",(Ye=y[V])&&(V=Ye(C,G)),i.push(V),T=B+1);return i.push(d.slice(T,B)),i.join("")}}function de(d,y){return function(C){var i=se(1900,void 0,1),B=ee(i,d,C+="",0),T,I;if(B!=C.length)return null;if("Q"in i)return new Date(i.Q);if("s"in i)return new Date(i.s*1e3+("L"in i?i.L:0));if(y&&!("Z"in i)&&(i.Z=0),"p"in i&&(i.H=i.H%12+i.p*12),i.m===void 0&&(i.m="q"in i?i.q:0),"V"in i){if(i.V<1||i.V>53)return null;"w"in i||(i.w=1),"Z"in i?(T=_e(se(i.y,0,1)),I=T.getUTCDay(),T=I>4||I===0?me.ceil(T):me(T),T=Me.offset(T,(i.V-1)*7),i.y=T.getUTCFullYear(),i.m=T.getUTCMonth(),i.d=T.getUTCDate()+(i.w+6)%7):(T=Ce(se(i.y,0,1)),I=T.getDay(),T=I>4||I===0?pe.ceil(T):pe(T),T=De.offset(T,(i.V-1)*7),i.y=T.getFullYear(),i.m=T.getMonth(),i.d=T.getDate()+(i.w+6)%7)}else("W"in i||"U"in i)&&("w"in i||(i.w="u"in i?i.u%7:"W"in i?1:0),I="Z"in i?_e(se(i.y,0,1)).getUTCDay():Ce(se(i.y,0,1)).getDay(),i.m=0,i.d="W"in i?(i.w+6)%7+i.W*7-(I+5)%7:i.w+i.U*7-(I+6)%7);return"Z"in i?(i.H+=i.Z/100|0,i.M+=i.Z%100,_e(i)):Ce(i)}}function ee(d,y,C,i){for(var B=0,T=y.length,I=C.length,V,G;B<T;){if(i>=I)return-1;if(V=y.charCodeAt(B++),V===37){if(V=y.charAt(B++),G=L[V in Be?y.charAt(B++):V],!G||(i=G(d,C,i))<0)return-1}else if(V!=C.charCodeAt(i++))return-1}return i}function ke(d,y,C){var i=g.exec(y.slice(C));return i?(d.p=m.get(i[0].toLowerCase()),C+i[0].length):-1}function ve(d,y,C){var i=w.exec(y.slice(C));return i?(d.w=D.get(i[0].toLowerCase()),C+i[0].length):-1}function S(d,y,C){var i=o.exec(y.slice(C));return i?(d.w=p.get(i[0].toLowerCase()),C+i[0].length):-1}function P(d,y,C){var i=N.exec(y.slice(C));return i?(d.m=H.get(i[0].toLowerCase()),C+i[0].length):-1}function ut(d,y,C){var i=F.exec(y.slice(C));return i?(d.m=x.get(i[0].toLowerCase()),C+i[0].length):-1}function lt(d,y,C){return ee(d,t,y,C)}function At(d,y,C){return ee(d,n,y,C)}function dt(d,y,C){return ee(d,r,y,C)}function gt(d){return c[d.getDay()]}function ft(d){return s[d.getDay()]}function pt(d){return A[d.getMonth()]}function mt(d){return l[d.getMonth()]}function vt(d){return u[+(d.getHours()>=12)]}function ht(d){return 1+~~(d.getMonth()/3)}function yt(d){return c[d.getUTCDay()]}function Ct(d){return s[d.getUTCDay()]}function _t(d){return A[d.getUTCMonth()]}function St(d){return l[d.getUTCMonth()]}function Tt(d){return u[+(d.getUTCHours()>=12)]}function Ut(d){return 1+~~(d.getUTCMonth()/3)}return{format:function(d){var y=K(d+="",Y);return y.toString=function(){return d},y},parse:function(d){var y=de(d+="",!1);return y.toString=function(){return d},y},utcFormat:function(d){var y=K(d+="",M);return y.toString=function(){return d},y},utcParse:function(d){var y=de(d+="",!0);return y.toString=function(){return d},y}}}var Be={"-":"",_:" ",0:"0"},k=/^\s*\d+/,tn=/^%/,nn=/[\\^$*+?|[\]().{}]/g;function _(e,t,n){var r=e<0?"-":"",u=(r?-e:e)+"",s=u.length;return r+(s<n?new Array(n-s+1).join(t)+u:u)}function rn(e){return e.replace(nn,"\\$&")}function ie(e){return new RegExp("^(?:"+e.map(rn).join("|")+")","i")}function oe(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function an(e,t,n){var r=k.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function sn(e,t,n){var r=k.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function on(e,t,n){var r=k.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function cn(e,t,n){var r=k.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function un(e,t,n){var r=k.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function Ie(e,t,n){var r=k.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Ve(e,t,n){var r=k.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function ln(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function An(e,t,n){var r=k.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function dn(e,t,n){var r=k.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Fe(e,t,n){var r=k.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function gn(e,t,n){var r=k.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function xe(e,t,n){var r=k.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function fn(e,t,n){var r=k.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function pn(e,t,n){var r=k.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function mn(e,t,n){var r=k.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function vn(e,t,n){var r=k.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function hn(e,t,n){var r=tn.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function yn(e,t,n){var r=k.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Cn(e,t,n){var r=k.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function Ee(e,t){return _(e.getDate(),t,2)}function _n(e,t){return _(e.getHours(),t,2)}function Sn(e,t){return _(e.getHours()%12||12,t,2)}function Tn(e,t){return _(1+De.count(Z(e),e),t,3)}function rt(e,t){return _(e.getMilliseconds(),t,3)}function Un(e,t){return rt(e,t)+"000"}function bn(e,t){return _(e.getMonth()+1,t,2)}function wn(e,t){return _(e.getMinutes(),t,2)}function Dn(e,t){return _(e.getSeconds(),t,2)}function Mn(e){var t=e.getDay();return t===0?7:t}function kn(e,t){return _(tt.count(Z(e)-1,e),t,2)}function at(e){var t=e.getDay();return t>=4||t===0?ne(e):ne.ceil(e)}function Yn(e,t){return e=at(e),_(ne.count(Z(e),e)+(Z(e).getDay()===4),t,2)}function Nn(e){return e.getDay()}function Bn(e,t){return _(pe.count(Z(e)-1,e),t,2)}function In(e,t){return _(e.getFullYear()%100,t,2)}function Vn(e,t){return e=at(e),_(e.getFullYear()%100,t,2)}function Fn(e,t){return _(e.getFullYear()%1e4,t,4)}function xn(e,t){var n=e.getDay();return e=n>=4||n===0?ne(e):ne.ceil(e),_(e.getFullYear()%1e4,t,4)}function En(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+_(t/60|0,"0",2)+_(t%60,"0",2)}function Re(e,t){return _(e.getUTCDate(),t,2)}function Rn(e,t){return _(e.getUTCHours(),t,2)}function On(e,t){return _(e.getUTCHours()%12||12,t,2)}function Hn(e,t){return _(1+Me.count(j(e),e),t,3)}function st(e,t){return _(e.getUTCMilliseconds(),t,3)}function Ln(e,t){return st(e,t)+"000"}function Pn(e,t){return _(e.getUTCMonth()+1,t,2)}function Qn(e,t){return _(e.getUTCMinutes(),t,2)}function Kn(e,t){return _(e.getUTCSeconds(),t,2)}function Wn(e){var t=e.getUTCDay();return t===0?7:t}function $n(e,t){return _(nt.count(j(e)-1,e),t,2)}function it(e){var t=e.getUTCDay();return t>=4||t===0?re(e):re.ceil(e)}function Xn(e,t){return e=it(e),_(re.count(j(e),e)+(j(e).getUTCDay()===4),t,2)}function Jn(e){return e.getUTCDay()}function Gn(e,t){return _(me.count(j(e)-1,e),t,2)}function Zn(e,t){return _(e.getUTCFullYear()%100,t,2)}function jn(e,t){return e=it(e),_(e.getUTCFullYear()%100,t,2)}function zn(e,t){return _(e.getUTCFullYear()%1e4,t,4)}function qn(e,t){var n=e.getUTCDay();return e=n>=4||n===0?re(e):re.ceil(e),_(e.getUTCFullYear()%1e4,t,4)}function er(){return"+0000"}function Oe(){return"%"}function He(e){return+e}function Le(e){return Math.floor(+e/1e3)}var te,ot;tr({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function tr(e){return te=en(e),ot=te.format,te.parse,te.utcFormat,te.utcParse,te}function Se(e,t,n){var r=null,u=E(!0),s=null,c=wt,l=null,A=bt(g);e=typeof e=="function"?e:e===void 0?Dt:E(+e),t=typeof t=="function"?t:t===void 0?E(0):E(+t),n=typeof n=="function"?n:n===void 0?Mt:E(+n);function g(o){var p,w,D,F=(o=kt(o)).length,x,N=!1,H,Y=new Array(F),M=new Array(F);for(s==null&&(l=c(H=A())),p=0;p<=F;++p){if(!(p<F&&u(x=o[p],p,o))===N)if(N=!N)w=p,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),D=p-1;D>=w;--D)l.point(Y[D],M[D]);l.lineEnd(),l.areaEnd()}N&&(Y[p]=+e(x,p,o),M[p]=+t(x,p,o),l.point(r?+r(x,p,o):Y[p],n?+n(x,p,o):M[p]))}if(H)return l=null,H+""||null}function m(){return je().defined(u).curve(c).context(s)}return g.x=function(o){return arguments.length?(e=typeof o=="function"?o:E(+o),r=null,g):e},g.x0=function(o){return arguments.length?(e=typeof o=="function"?o:E(+o),g):e},g.x1=function(o){return arguments.length?(r=o==null?null:typeof o=="function"?o:E(+o),g):r},g.y=function(o){return arguments.length?(t=typeof o=="function"?o:E(+o),n=null,g):t},g.y0=function(o){return arguments.length?(t=typeof o=="function"?o:E(+o),g):t},g.y1=function(o){return arguments.length?(n=o==null?null:typeof o=="function"?o:E(+o),g):n},g.lineX0=g.lineY0=function(){return m().x(e).y(t)},g.lineY1=function(){return m().x(e).y(n)},g.lineX1=function(){return m().x(r).y(t)},g.defined=function(o){return arguments.length?(u=typeof o=="function"?o:E(!!o),g):u},g.curve=function(o){return arguments.length?(c=o,s!=null&&(l=c(s)),g):c},g.context=function(o){return arguments.length?(o==null?s=l=null:l=c(s=o),g):s},g}const Ae={id:"001",name:"紅蘿蔔",englishName:"Carrot",image:"/src/images/veggies/carrot.png",category:"根莖類蔬菜",usage:"適合涼拌、熱炒、燉煮",pricePerKg:"35",date:"2025/04/25",aiSuggestion:{bestBuyTiming:"當前價格處於近3個月高點，建議等待7-10天後再購買，預計價格將下跌15-20%。",alternative:"白蘿蔔、牛蒡等根莖類蔬菜價格較低，營養價值相近，可作為替代選擇。",bestMarket:"附近南門市場的價格比平均低12%，週二、週五為進貨日，品質最佳。"},nutrition:{macros:[{id:"carbs",label:"碳水化合物",value:9.6,unit:"g",color:"#ff9800"},{id:"protein",label:"蛋白質",value:.9,unit:"g",color:"#4caf50"},{id:"fat",label:"脂肪",value:.2,unit:"g",color:"#f44336"},{id:"vitaminA",label:"維生素A",value:835,unit:"µg",color:"#2196f3"}],benefits:["豐富的β-胡蘿蔔素有助於視力健康","抗氧化成分可降低心血管疾病風險","膳食纖維促進腸道健康與消化","有助於增強免疫系統功能"],audience:"視力保健需求者、需要減重的人、高血脂患者、需要增強免疫力的人群。孕婦食用可幫助胎兒視力發展。"},marketCompare:[{id:"m1",name:"批發市場-未洗紅蘿蔔",image:"/src/images/veggies/carrot1.png",pricePerKg:30,qualityScore:50,cpValue:3.68,description:"以30元/公斤的價格提供最高CP值，是最經濟實惠的選擇。雖需自行清洗，但品質分數高達110.45，性價比極高。",tags:["經濟實惠","需清洗"]},{id:"m2",name:"古坑有機紅蘿蔔",image:"/src/images/veggies/carrot2.png",pricePerKg:65,qualityScore:95,cpValue:1.21,description:"65元/公斤，雖然價格較高，但品質分數達90分，為有機認證產品，適合重視有機種植的消費者。",tags:["高品質","不需清洗"]},{id:"m3",name:"批發市場-未洗紅蘿蔔",image:"/src/images/veggies/carrot3.png",pricePerKg:20,qualityScore:70,cpValue:1.18,description:"以30元/公斤的價格提供最高CP值，是最經濟實惠的選擇。雖需自行清洗，但品質分數高達110.45，性價比極高。",tags:["經濟實惠","需清洗"]}],storageTips:{method:{title:"保存方式",icon:"snowflake",content:"紅蘿蔔應去除頂部綠葉，用紙巾包裹後放入保鮮袋，置於冰箱保鮮層可保存2-3週。避免與蘋果等釋放乙烯的水果放在一起，以免變苦。"},cooking:{title:"烹飪技巧",icon:"flame",content:"紅蘿蔔先蒸後炒更易於人體吸收營養。切丁前先冷凍15分鐘可減少流淚。搭配油脂烹調更能促進維生素A的吸收。"},waste:{title:"減少浪費",icon:"recycle",content:"紅蘿蔔葉可用於製作湯底增添風味。過熟的紅蘿蔔可製作成蛋糕或餅乾。削皮後的外層可用來熬製高湯。"},bestBefore:{title:"最佳食用期限",icon:"clock",content:`新鮮紅蘿蔔：購買後2-3週內
冷凍紅蘿蔔：可保存8-12個月
熟食紅蘿蔔：冷藏3-5天`}},similarVeggies:[{id:"002",name:"有機紅蘿蔔",subtitle:"無農藥栽培",pricePerKg:58,trend:"up",icon:"/src/images/icons/carrot-organic.png"},{id:"003",name:"進口紅蘿蔔",subtitle:"澳洲進口",pricePerKg:45,trend:"up",icon:"/src/images/icons/carrot-import.png"},{id:"004",name:"迷你紅蘿蔔",subtitle:"適合即食",pricePerKg:65,trend:"down",icon:"/src/images/icons/carrot-mini.png"},{id:"005",name:"白蘿蔔",subtitle:"替代選擇",pricePerKg:22,trend:"down",icon:"/src/images/icons/daikon.png"}],recipes:[{id:"r1",name:"香濃紅蘿蔔湯",image:"/src/images/recipes/carrot-soup.png",time:30,servings:4,difficulty:"簡單"},{id:"r2",name:"健康紅蘿蔔蛋糕",image:"/src/images/recipes/carrot-cake.png",time:90,servings:8,difficulty:"中等"},{id:"r3",name:"韓式涼拌紅蘿蔔",image:"/src/images/recipes/korean-carrot.png",time:15,servings:2,difficulty:"簡單"}],farmer:{id:"f001",image:"/src/images/farmers/zhangming.png",name:"張大明",farm:"綠野農場",location:"宜蘭縣",certification:"有機認證",rating:3.7,reviewCount:38,specialPrice:28,unit:"公斤",minQty:5,shipping:"週一、四出貨，3-5天送達",traceCertification:"產銷履歷認證，可追溯生產過程"}},Pe=""+new URL("season-badge-DSuQaXJI.png",import.meta.url).href,ct={"30days":[{date:"2025/03/26",price:29},{date:"2025/03/27",price:30},{date:"2025/03/28",price:30},{date:"2025/03/29",price:31},{date:"2025/03/30",price:32},{date:"2025/03/31",price:31},{date:"2025/04/01",price:30},{date:"2025/04/02",price:31},{date:"2025/04/03",price:30},{date:"2025/04/04",price:32},{date:"2025/04/05",price:33},{date:"2025/04/06",price:32},{date:"2025/04/07",price:33},{date:"2025/04/08",price:34},{date:"2025/04/09",price:34},{date:"2025/04/10",price:35},{date:"2025/04/11",price:36},{date:"2025/04/12",price:36},{date:"2025/04/13",price:35},{date:"2025/04/14",price:35},{date:"2025/04/15",price:34},{date:"2025/04/16",price:33},{date:"2025/04/17",price:34},{date:"2025/04/18",price:38},{date:"2025/04/19",price:36},{date:"2025/04/20",price:37},{date:"2025/04/21",price:36},{date:"2025/04/22",price:35},{date:"2025/04/23",price:35},{date:"2025/04/24",price:37},{date:"2025/04/25",price:30}],"6months":[{date:"2024/11/15",price:28},{date:"2024/11/22",price:28},{date:"2024/11/29",price:29},{date:"2024/12/06",price:29},{date:"2024/12/13",price:30},{date:"2024/12/20",price:30},{date:"2024/12/27",price:30},{date:"2025/01/03",price:31},{date:"2025/01/10",price:31},{date:"2025/01/17",price:32},{date:"2025/01/24",price:32},{date:"2025/01/31",price:32},{date:"2025/02/07",price:33},{date:"2025/02/14",price:33},{date:"2025/02/21",price:33},{date:"2025/02/28",price:34},{date:"2025/03/07",price:34},{date:"2025/03/14",price:35},{date:"2025/03/21",price:35},{date:"2025/03/28",price:35},{date:"2025/04/04",price:36},{date:"2025/04/11",price:36},{date:"2025/04/18",price:37},{date:"2025/04/25",price:37}],"1year":[{date:"2024/05",price:30},{date:"2024/06",price:29},{date:"2024/07",price:28},{date:"2024/08",price:27},{date:"2024/09",price:26},{date:"2024/10",price:27},{date:"2024/11",price:28},{date:"2024/12",price:27},{date:"2025/01",price:29},{date:"2025/02",price:30},{date:"2025/03",price:32},{date:"2025/04",price:35}]},nr="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAALCAYAAACksgdhAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADESURBVHgBlZHBDYMwDEVjqwMwAiN0hHYEJqhyAIlbmaBs0DscUCfoCDBCR8gIuUdK+l1BhQJI8KVIzk+eHTukoLZt70T0QJhgDc45XZalaZrmzMxPeBcsE0J45XleE4B6BOayuJDBf4+J/oJfnZDphiBiVAKgVyuSAgwgVceUsPSgjmlg732FwO4ErAyJi6L4ALzuAK3ck6nS5HRdl8LsN3o0OMukgGxofrIBGjzpV2EyKE4ZgQtAxDGktTb4O+lxWANEXyY9cR/9rMDsAAAAAElFTkSuQmCC",rr="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAALCAYAAACksgdhAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADESURBVHgBlZDNDYJAEIVnJuFOCZSgHWgJluAVOEAF0oEcCOFqBZYgJdiBW8LeCbvOIxpROSwv2exm9n3zx6TyWVboddIT6+lpHI/cdcan6YaYzxrbkfeGRC7cNBX7PK80AGAuq+aDxq+vRB85V7JWeegzoXBZWQlAsUwzrFMv2neJkoGAxZKE2/au4D4AtPBhq2iPJjCKtvo0i3asGwB88H/9FUVCw3Cj+XIAODdVeIf4L+kcXAAg+YW4ro22ihn7JQB6AtnqW2n4IaLMAAAAAElFTkSuQmCC",ar={class:"main-info-card"},sr={class:"left"},ir=["src"],or={class:"center"},cr={class:"title-line"},ur={class:"name"},lr={class:"english-name"},Ar=["src"],dr={class:"sub-info"},gr={class:"price-warning"},fr={class:"price-badge"},pr={class:"right"},mr={class:"date-text"},vr={__name:"VeggieMainInfoCard",props:{veggie:{type:Object,required:!0}},setup(e){const t=e,{veggie:n}=ze(t),r=$(!1),u=()=>{r.value=!r.value},s=R(()=>ct["30days"]),c=R(()=>{const m=s.value;return m.length?m[m.length-1].price:NaN}),l=R(()=>{const m=s.value,o=m.length-1-7;return o>=0?m[o].price:NaN}),A=R(()=>{const m=l.value,o=c.value;return m?(o-m)/m*100:NaN}),g=R(()=>{const m=A.value;return isNaN(m)?"":m>=20?"價格飆漲超過 20%，建議選購替代品":m<=-20?"價格超跌超過 20%，建議多加購買":""});return(m,o)=>(h(),v("div",ar,[o[1]||(o[1]=a("div",{class:"mobile-badge"},[a("img",{src:Pe,alt:"當季推薦"})],-1)),a("div",sr,[a("img",{src:U(n).image,alt:"蔬菜圖片",class:"veggie-image"},null,8,ir)]),a("div",or,[a("div",cr,[a("h2",ur,f(U(n).name),1),a("span",lr,f(U(n).englishName),1),a("button",{class:"favorite-button",onClick:u},[a("img",{src:r.value?U(rr):U(nr),alt:"收藏",class:"heart-icon"},null,8,Ar)])]),a("div",dr,f(U(n).category)+" / "+f(U(n).usage),1),a("div",gr,[a("div",fr,"最新均價：$"+f(U(n).pricePerKg||"35")+"/公斤",1)]),g.value?(h(),v("div",{key:0,class:ce(["warning-text",A.value<=-20?"warning-fall":A.value>=20?"warning-rise":""])},f(g.value),3)):ae("",!0)]),a("div",pr,[a("div",mr,"數據日期："+f(U(n).date),1),o[0]||(o[0]=a("div",{class:"season-badge"},[a("img",{src:Pe,alt:"當季推薦"})],-1))])]))}},Qe=X(vr,[["__scopeId","data-v-bd0fa571"]]),hr={class:"chart-container"},yr={class:"chart-header"},Cr={class:"period-buttons"},_r=["onClick"],J=30,Sr={__name:"AveragePriceTrendChart",setup(e){const t=$(null),n=$(null),r=$("30days"),u=$(null),s={"30days":"30天","6months":"半年","1year":"1年"},c=ot("%m/%d"),l=o=>{const p=new Date(o);if(isNaN(p.getTime()))return o;const w=p.getFullYear(),D=String(p.getMonth()+1).padStart(2,"0");if(r.value==="30days"||r.value==="6months"){const F=String(p.getDate()).padStart(2,"0");return`${w}/${D}/${F}`}else return r.value==="1year"?`${w}/${D}`:c(p)};let A=null;function g(){const o=ct[r.value],p=t.value;ge(p).selectAll("*").remove();const w=p.clientWidth,D={top:20,right:20,bottom:40,left:40},F=w-D.left-D.right,x=F*.5,N=ge(p).append("svg").attr("width",w).attr("height",x+D.top+D.bottom).append("g").attr("transform",`translate(${D.left},${D.top})`),H=o.map(S=>S.date);let Y;r.value==="30days"?Y=H.filter((S,P)=>P%5===0):r.value==="6months"?Y=H.filter((S,P)=>P%5===0):r.value==="1year"?Y=H.filter((S,P)=>P%2===0):Y=H;const M=Bt().domain(H).range([0,F]),L=It().domain([J*.5,Vt(o,S=>S.price)*1.2]).range([x,0]);N.append("g").attr("transform",`translate(0,${x})`).call(Ft(M).tickValues(Y).tickFormat(S=>r.value==="30days"?c(new Date(S)):S)),N.append("g").call(xt(L));const K=Se().x(S=>M(S.date)).y0(x).y1(L(J*.8)),de=Se().x(S=>M(S.date)).y0(L(J*.8)).y1(L(J*1.2)),ee=Se().x(S=>M(S.date)).y0(L(J*1.2)).y1(0);N.append("path").datum(o).attr("fill","#e0d7f1").attr("d",K),N.append("path").datum(o).attr("fill","#e0f1e0").attr("d",de),N.append("path").datum(o).attr("fill","#f1e0e0").attr("d",ee),[{price:J*.8,color:"purple"},{price:J,color:"orange"},{price:J*1.2,color:"red"}].forEach(({price:S,color:P})=>{N.append("line").attr("x1",0).attr("x2",F).attr("y1",L(S)).attr("y2",L(S)).attr("stroke",P).attr("stroke-width",1).attr("stroke-dasharray","3,3")});const ve=je().x(S=>M(S.date)).y(S=>L(S.price));N.append("path").datum(o).attr("fill","none").attr("stroke","#2e7d32").attr("stroke-width",2).attr("d",ve),u.value=null,N.selectAll(".dot").data(o).join("circle").attr("class","dot").attr("cx",S=>M(S.date)).attr("cy",S=>L(S.price)).attr("r",3).attr("fill","#2e7d32").on("mouseover",function(S,P){ge(this).attr("r",6),u.value=P}).on("mouseout",function(){ge(this).attr("r",3),u.value=null})}const m=o=>{r.value=o};return qe(()=>{g(),A=new ResizeObserver(g),A.observe(t.value)}),Yt(()=>{A&&A.disconnect()}),fe(r,()=>{g()}),(o,p)=>(h(),v("div",hr,[a("div",yr,[p[1]||(p[1]=a("div",{class:"chart-title"},"平均價格趨勢",-1)),a("div",{ref_key:"tooltipEl",ref:n,class:"fixed-tooltip"},[u.value?(h(),v(O,{key:0},[ue(" 價格: "+f(u.value.price.toFixed(1)),1),p[0]||(p[0]=a("br",null,null,-1)),ue(" 日期: "+f(l(u.value.date)),1)],64)):ae("",!0)],512),a("div",Cr,[(h(),v(O,null,Q(["30days","6months","1year"],w=>a("button",{key:w,class:ce({active:r.value===w}),onClick:D=>m(w)},f(s[w]),11,_r)),64))])]),a("div",{ref_key:"chartArea",ref:t,class:"chart-area"},null,512),p[2]||(p[2]=Nt('<div class="chart-legend" data-v-0487eeb3><div class="legend-item" data-v-0487eeb3><span class="legend-color orange" data-v-0487eeb3></span>近3年均價(0%)</div><div class="legend-item" data-v-0487eeb3><span class="legend-color purple" data-v-0487eeb3></span>超跌(-20%)</div><div class="legend-item" data-v-0487eeb3><span class="legend-color red" data-v-0487eeb3></span>超漲(+20%)</div></div><div class="market-risk" data-v-0487eeb3>市場風險: 高 (-20.3%)</div><div class="market-note" data-v-0487eeb3>近期準備二次收成，價格將再降。建議等待 7-10 天後再購買。</div>',3))]))}},Ke=X(Sr,[["__scopeId","data-v-0487eeb3"]]),Tr={name:"NutritionInfoCard",data(){return{veggie:Ae}},computed:{nutrition(){return this.veggie.nutrition}},methods:{getBarWidth(e){return e.id==="carbs"?Math.min(e.value/15*100,100):e.id==="protein"||e.id==="fat"?Math.min(e.value/2*100,100):e.id==="vitaminA"?Math.min(e.value/1e3*100,100):50}}},Ur={class:"nutrition-card"},br={class:"sub-section"},wr={class:"nutrition-bars"},Dr={class:"sub-section"},Mr={class:"benefits-list"},kr={class:"sub-section"},Yr={class:"audience"};function Nr(e,t,n,r,u,s){return h(),v("div",Ur,[t[3]||(t[3]=a("div",{class:"section-title"},"營養與健康資訊",-1)),a("div",br,[t[0]||(t[0]=a("div",{class:"sub-title"},"主要營養成分",-1)),a("div",wr,[(h(!0),v(O,null,Q(s.nutrition.macros,c=>(h(),v("div",{class:"nutrition-bar",key:c.id},[a("div",{class:"bar-content",style:be({backgroundColor:c.color,width:s.getBarWidth(c)+"%"})},f(c.label)+" "+f(c.value)+f(c.unit),5)]))),128))])]),a("div",Dr,[t[1]||(t[1]=a("div",{class:"sub-title"},"健康益處",-1)),a("ul",Mr,[(h(!0),v(O,null,Q(s.nutrition.benefits,(c,l)=>(h(),v("li",{key:l},f(c),1))),128))])]),a("div",kr,[t[2]||(t[2]=a("div",{class:"sub-title"},"適合人群",-1)),a("p",Yr,f(s.nutrition.audience),1)])])}const We=X(Tr,[["render",Nr],["__scopeId","data-v-26f9d307"]]),Br={class:"compare-card"},Ir={class:"header"},Vr={class:"header-text"},Fr={class:"subtitle"},xr={class:"tabs"},Er=["onClick"],Rr={class:"cards"},Or={class:"card-header"},Hr={class:"market-name"},Lr={key:0,class:"badge"},Pr=["src"],Qr={class:"price"},Kr={class:"metrics"},Wr={class:"metric"},$r={class:"bar-bg"},Xr={class:"value"},Jr={class:"metric"},Gr={class:"bar-bg"},Zr={class:"value"},jr={class:"description"},zr={class:"tags"},qr={__name:"MultiMarketPriceCompareCard",props:{marketCompare:{type:Array,default:()=>[]},veggieName:{type:String,default:""}},setup(e){const t=e,{marketCompare:n,veggieName:r}=ze(t),u=$("cp"),s=[{value:"cp",label:"按CP值排序"},{value:"price",label:"按價格排序"},{value:"quality",label:"按品質排序"}],c=R(()=>n.value.length?Math.max(...n.value.map(g=>g.cpValue)):1),l=R(()=>[...n.value].sort((g,m)=>u.value==="cp"?m.cpValue-g.cpValue:u.value==="price"?g.pricePerKg-m.pricePerKg:m.qualityScore-g.qualityScore)),A=R(()=>{switch(u.value){case"cp":return"最高CP值";case"price":return"最便宜價格";case"quality":return"最高品質";default:return""}});return(g,m)=>(h(),v("div",Br,[a("div",Ir,[a("div",Vr,[m[0]||(m[0]=a("h2",{class:"title"},"多通路價格比較與CP值排行",-1)),a("p",Fr," 為您提供最透明的 "+f(U(r))+" 市場價格對比，讓您做出最明智的選擇 ",1)]),a("div",xr,[(h(),v(O,null,Q(s,o=>a("button",{key:o.value,class:ce({active:u.value===o.value}),onClick:p=>u.value=o.value},f(o.label),11,Er)),64))])]),a("div",Rr,[(h(!0),v(O,null,Q(l.value,(o,p)=>(h(),v("div",{class:ce(["card",{highlight:p===0}]),key:o.id},[a("div",Or,[a("span",Hr,f(o.name),1),p===0?(h(),v("span",Lr,f(A.value),1)):ae("",!0)]),a("img",{src:o.image,class:"market-img",alt:"市場圖片"},null,8,Pr),a("div",Qr,"NT$"+f(o.pricePerKg)+"/公斤",1),a("div",Kr,[a("div",Wr,[m[1]||(m[1]=a("span",{class:"label"},"品質分數",-1)),a("div",$r,[a("div",{class:"bar-fill quality",style:be({width:o.qualityScore+"%"})},null,4)]),a("span",Xr,f(o.qualityScore),1)]),a("div",Jr,[m[2]||(m[2]=a("span",{class:"label"},"CP值",-1)),a("div",Gr,[a("div",{class:"bar-fill cp",style:be({width:o.cpValue/c.value*100+"%"})},null,4)]),a("span",Zr,f(o.cpValue.toFixed(2)),1)])]),a("p",jr,f(o.description),1),a("div",zr,[(h(!0),v(O,null,Q(o.tags,w=>(h(),v("span",{key:w,class:"tag"},f(w),1))),128))])],2))),128))])]))}},$e=X(qr,[["__scopeId","data-v-0ca49b54"]]),ea="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAIKSURBVHgBlVPBblJREJ2Z+6irCl0ZV8IHFC4YEzdG+YP2C0q/gLBtxKaWsKV8AfyB/AHEnTEpN5C4LayMK2+jq/rejHNvEU0tJJ3k5c2bd2buzDlzDWyx8rta88mrpy+/ffz6aRMGtyRfiYgj9UWgOOtMq/fhkk0FUuTDBGisRSBlqW/CxQL25IXNiIuAfDQ/nx7GH0KvQWAIgj5JqKIhF+KVdvUDswyN5Jau+9nFEcrt6pU6CwG0RFwSph6LoNqRDulFeIRA/uaG+zuPaKopXlgW8860HjvQxDMF9tQpCONAAN6Yn1LKdiGvMZifu+NyuyY7OdwLmEge0XA9AiLkBbihntdCFwHEu9RAuW1bCQ2xOAEz19FAHrNVoTvMnwbGkXkihAcIeBA7FJkgyEiQLAq7Wcf1/+TQHVJ9DBgqEFBhDVIeiOma4nl/4+sO9tu1hknRp4SeTKZcoNWRLlDIR5TwNRD11Fkwm+OEpcBGns06l/3bDjIGzslAFQi6T0JIiWshihV9KFE5gxoqZcBwIgMt6tcdVNrPx3piUT8LCqhmTE0U2YO1jDCKk/3gFj+muKEqcXH2/rIUVfhFWctkJi6SO3MLDbX2T2wDDH5HBg/My3nXDVeLNNEdGKaJLP9T4V+zp9ay0DjIl2Zc/9J17j7cxrvAogu14iMhHOirCg+1cJ3Lb21zG+Y3Y9cBETCsKkkAAAAASUVORK5CYII=",ta="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAARCAYAAADUryzEAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFwSURBVHgBjVK9TsJQFD7n1rCoSV2AOnV0kOTqjsgTiE9g30CYTDQGiXFww81NfAPeAPAFKNHBTTZxI2Er4RxvgWp7LyV8y/0730/PKUAKZF26sAGstIfsyX4/X3KkU84NRr3ROK1OpD0AwpgBPGLRWZcmXYDBXq7ubIYv6T4rEDoSia+E04T2/KY/3igBk2U40rZ1dngjT/V7S3O2s0XnWeWqmKrYFhbe5YpO/uftu7cyAZP6VsQLjbmILbjJDFKJV2VV2oZA4fbYY8CEMwO3g4CPlseIZNOOuDQEBOjOANOAa5+P/jAcqZaqYggwsowVDNV4WnOyAs3oPCGCKA2Bv7nPt+ChoFp0/njwu2ppwgrEmziMNtaEB34jOXOB9BRPaAogtGBDqGZ3DYGFw0KZdoWnk9Sf6UXu04Aa/74xHFxJN5PBjrp2wyYiiVcgtmlr3uB6SFZjLUfNNQQiFK6lB5YoKYK7LFMEbr3f93t67S/Q+4ujCKFI2AAAAABJRU5ErkJggg==",na="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAARCAYAAADUryzEAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAF0SURBVHgBpVJLUsJAEO1pPABHYG1JagD3wAkCJwBvgGtIAAW2wAmMJ0BOACeAKaDYgjdwraTbScpYg5UELV9VKtPTLy+vPwD/hEhKyK7MEeMiOKOgquqrYxwPkwSYsEtEHjO8+L54gr9Adko1yykcojg437Rl5dcOCHkMxL3vmPgOhRiH4u3bimzJbKoA+NTbDNVzFO6GaskC3iyn2KIMzUxqYhNNWJ1i94vdY+bldrCuRrmryBYh2VqtxgDTzeNqYgow0StksCyAj/pZmrlQ4CSoHNTCwFnddVsfzwS2I+XplxfnLuzBbrDq679niXkiUEizSbEluaXG2YU5trwrbbgAyy2so7GGDsyxbR/U/JIA+XyPGQyXS+SdYhOYbd3ZehxZr7R8/wDYj5Qy7/NOYSFAzBFBNLSAl/QxkZjF2mCc6pHawmrLFiCOzz1SM1gkyy0e9GhykAA+UT11ka61gyvG2UkTf5YQAdME9n2l9I7U0zifBa+lRj0uHvYAAAAASUVORK5CYII=",ra={class:"storage-card"},aa={class:"tips-grid"},sa={class:"tip-header"},ia=["src"],oa={class:"tip-title"},ca={class:"tip-content"},ua={key:0},la={__name:"StorageTipsCard",setup(e){const{storageTips:t}=Ae,n={method:ea,cooking:ta,waste:na,bestBefore:Pt};return(r,u)=>(h(),v("div",ra,[u[0]||(u[0]=a("div",{class:"header"},[a("h2",{class:"title"},"保存與烹飪技巧")],-1)),a("div",aa,[(h(!0),v(O,null,Q(U(t),(s,c)=>(h(),v("div",{key:c,class:"tip-item"},[a("div",sa,[a("img",{src:n[c],alt:"",class:"tip-icon"},null,8,ia),a("span",oa,f(s.title),1)]),a("div",ca,[(h(!0),v(O,null,Q(s.content.split(`
`),(l,A)=>(h(),v("span",{key:A},[ue(f(l)+" ",1),A<s.content.split(`
`).length-1?(h(),v("br",ua)):ae("",!0)]))),128))])]))),128))])]))}},Xe=X(la,[["__scopeId","data-v-e60f947c"]]),Aa={class:"similar-card"},da={class:"items"},ga={class:"item-left"},fa={class:"icon-wrapper"},pa=["src"],ma={class:"info"},va={class:"name"},ha={class:"subtitle"},ya={class:"price"},Ca={__name:"SimilarVeggieCompareCard",setup(e){const t=Ae.similarVeggies||[];return(n,r)=>(h(),v("div",Aa,[r[0]||(r[0]=a("div",{class:"header"},[a("h2",{class:"title"},"相關產品比較")],-1)),a("div",da,[(h(!0),v(O,null,Q(U(t),u=>(h(),v("div",{key:u.id,class:"item"},[a("div",ga,[a("div",fa,[a("img",{src:u.icon,alt:""},null,8,pa)]),a("div",ma,[a("div",va,f(u.name),1),a("div",ha,f(u.subtitle),1)])]),a("div",ya,[ue(" $"+f(u.pricePerKg)+"/公斤 ",1),a("span",{class:ce(["trend",u.trend==="up"?"up":"down"])},f(u.trend==="up"?"↑":"↓"),3)])]))),128))])]))}},Je=X(Ca,[["__scopeId","data-v-0a71accb"]]),_a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAAOCAYAAAD0f5bSAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADcSURBVHgBvZLdDYIwEMfbxgG6ga7gBOgE6AYygSUkwBv6yBMjECdQJ3AE3UBG4I036v8MNI1Jmz55SXPXu/v1PoCxfwkvy/IwjuPSm8T5pa7rbr4vADRa650LEEJIxBuYe+MsiuLNPIL4Ks/zJ2nzEAsQtEdAC7ANhiAvzLSF7gGeQqGvAEwxX2wgpZR0JSNRWq1KPi2im9vAuf8wtNkIIAEp7KuAcYajn3rewI7sA1+M2Br6hvsRJ+FVVclhGB5UDQ8QnNhlsG5Flagt6MT+yCzLMudfQTHfzEHyAQAoZS9OjVJpAAAAAElFTkSuQmCC",Sa="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAAOCAYAAAD0f5bSAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAE1SURBVHgBhVLdbYMwEMaIv0c2qEdoJ0g6QTtCMkHoCzy6fuABEAoblEwQOkHVDToC2YA3hISg36E4skzUnmTOd77vPn9nmGVYFEWh53lb27bDeZ7bYRh+qqrq9BqmCn3fj7DdYHEUN/AdY4zDP9Iei3KfWZa1TAgR9n3/hYJ6HMemLMuLyZ4kCZ+midgFmJ8YJZD/QIdn6x9D7dlxnMi+xu0fhVstXLQtIGgI9UFogHecvWggTh+HhMVxzFXWdd1XFNNASNtDnud7DRSmaXpZmDCETjEURVHTqAmAhnuNlavrOddcg7c5wEsK0F1aa9uhWX3TFATBCWw7XY8xDA63QbPTDSSl7NDlDQ98tu7bUbGsDAMR6Ho0WCrK6zl2D0hXJWaEVNyYGlcgpQGgA/2DmOa3ef4LSnmNhSzNX58AAAAASUVORK5CYII=",Ta={class:"farmer-card"},Ua={class:"profile"},ba=["src"],wa={class:"info"},Da={class:"name"},Ma={class:"meta"},ka={class:"rating"},Ya={class:"stars"},Na={key:0,class:"star half"},Ba={class:"value"},Ia={class:"price-section"},Va={class:"special-price"},Fa={class:"min-qty"},xa={class:"footer"},Ea={class:"footer-item"},Ra=["src"],Oa={class:"footer-item"},Ha=["src"],La={__name:"FarmerInfoCard",setup(e){const t=Ae.farmer||{},n=R(()=>{const l=Number(t.rating);return isNaN(l)||l<0?0:l>5?5:Math.round(l*10)/10}),r=R(()=>Math.floor(n.value)),u=R(()=>n.value-Math.floor(n.value)>=.5),s=R(()=>{const l=r.value+(u.value?1:0);return Math.max(0,5-l)}),c={shipping:_a,traceCertification:Sa};return(l,A)=>(h(),v("div",Ta,[A[0]||(A[0]=a("div",{class:"header"},[a("h2",{class:"title"},"小農直購專區")],-1)),a("div",Ua,[a("img",{src:U(t).image,alt:"farmer avatar",class:"avatar"},null,8,ba),a("div",wa,[a("div",Da,f(U(t).name)+" – "+f(U(t).farm),1),a("div",Ma,f(U(t).location)+" / "+f(U(t).certification),1),a("div",ka,[a("span",Ya,[(h(!0),v(O,null,Q(r.value,(g,m)=>(h(),v("span",{key:"full-"+m,class:"star full"},"★"))),128)),u.value?(h(),v("span",Na)):ae("",!0),(h(!0),v(O,null,Q(s.value,(g,m)=>(h(),v("span",{key:"empty-"+m,class:"star empty"},"★"))),128))]),a("span",Ba,f(n.value)+"（"+f(U(t).reviewCount||0)+" 則評價） ",1)])])]),a("div",Ia,[a("div",Va," 特惠價：$"+f(U(t).specialPrice||0)+"/"+f(U(t).unit||"公斤"),1),a("div",Fa," 最低購買量："+f(U(t).minQty||0)+f(U(t).unit||"公斤"),1)]),A[1]||(A[1]=a("button",{class:"btn-buy"},"直接購買",-1)),a("div",xa,[a("div",Ea,[a("img",{src:c.shipping,alt:"",class:"icon"},null,8,Ra),a("span",null,f(U(t).shipping),1)]),a("div",Oa,[a("img",{src:c.traceCertification,alt:"",class:"icon"},null,8,Ha),a("span",null,f(U(t).traceCertification),1)])])]))}},Ge=X(La,[["__scopeId","data-v-dd5b25f1"]]),Pa="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAGJSURBVHgB7VVLUsJAEO0eRTaicAIHToA3wCNwAnBjlbAQThA4QVIFgSo3HAGPwA3kBJobiCZVSlVI2xNLmAAaMWRj+Rb5Tea9zHvdEygOXJJD14CUICBl/EEBabs30nzKw54QEZC3XhkRLMhm9hZ6RMC5Op4iBG0EasmBV4M9YMOih8apBQgTJLLk8FVCQmwNmd78S3XGwB99NbHU91qlntuB3wg47YJDAqq8kgpbZW6Q226HBJl0AIbsP7dgV4FQ5Do3ISArzKPnViLkCAYRdPj2DlEY0vbK+lxpv9Q/7f2+D+aLLh+neIAjVbo6udPMdWnOViLNuPLGel6IyNb6tVgBtmrGJFUgymM2c6+Tr8YXF+E4+eNt/RPbySoPxIAJSerk+niYF0BZHGXMnQUUVOkS+efr5EsRzkv1DyHV10P/8V7kNAtTiPsIVRRCRFZxCAmgqgUEni0fsIfrSCTA1WMAgdSerC4JncQCj42TYtw7/3+0WIQZYMCb2tCFNPARMu+aSFCBFPAOEAuqR/K++1EAAAAASUVORK5CYII=",Qa="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAG6SURBVHgB3ZXdTQJBEMf/c6I+mWAHCxXYgWcHWoHwaHwQKuCsAIx8PKIVUAKUYAduByJHIhJgnFnAGHJ3nOSIib+Xm+xN5mN3PoC/xHQ+jGmPr2P/t0Yl1UmykUv6STzvAwsVnyP/g+pYzF5EvIiz4SEhOoANwwvidBhcFS++ab5X4nQo0rikrdEzs7W3J7HRKYVO2Jckz3g6K9jq6RBpMvAwr2n0mM7K2AJPRIeQx/FhLdpWRPQSeYkZgURksQXVYUJA4Ip5DP2tDohnPYnLSvQPSMtEddmSh1qig+XDyn3Kw0bdZxyqy0Rl9+AbZU3FVtiQFO+wBxjUoEI7lGrDgD0MkCG0gK8ZuUZT4/bm5B4ZYjqhvCd8yWD0Kv4M9gLbHH/OL+go19V0tNyQARJ54K59Oq+6A0mn5t4iI9SW2lQ5spOLnXHXtMPeSrm3ltOcbxI5TVnHxDofHQOLX5xvEDtNs+KfOTD1t7wTCEOpNd1U2u52Lac5j0RKynellbCZ0lJsjivOVjs8X/pe4TYTa7PRkxvXOyANdiafS9klg/Um/C5T2UxX3tFBHcyXIMpjF5iHcnXBz13yBVF555R5csW5AAAAAElFTkSuQmCC",Ka="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJQSURBVHgB1VVRbtpAEJ1xSKpKaUVPkHVOADeAEyQ9QZzP0o/CCfANSNUCP5UIJyg3IDeAG7A3AGFLhMj29O0GUhuDVBL46Egg+zH73tud2YHoyMGbgOouFCXRFTlUpL2j0Ndf3uudAoacJR4SiaJXBWvhk2paJCPgdsIRSaLkKS7rxidNe4RqhyUmGYJRyzKqYv3M4M464bId3MF5SZhu9yU3ob+ej4WkgceSc3bayvwIct/tBKLaQZPeGKobNA3X5Y/AN+98+TOsiyMtqN/p2scGHSBUZ95i4rokScOc+wSKoy1J13l3C2W7bBPH+W9ibjcYuu1g6piOwbkPNsnh4Lf7a3GRxpmiHknUyopOFbOMVCe8SeNC9IAFRVPkMQtl3DrsXNmkZeSl3VNCJeRW0rtw4lO7lkW8jBlhTwTca7fPPSz36NsK5PGRGTEXhfkeTmYcGwKx+wA+E4cGnNj7AgHRAJUhJIMLX9uOJPYcFHYgIrco8gzufBCbxDrugmsKz5JUQFQH9RhYVZ6iMoxogyG3glxflnHZcFht8w5zWPtZ1877z9vvSXFboV4bhku1pnbUFCzyGH5jhvvVzVbtuYdCXOSX/p01uRxhvXZsii5nhToevxfy6nOPmXv2uHMRe/hyt+cIui+kl2NZDcucgHWFhZPah41BGDTRKf6uHHN7UQCVo6Mjx/8vUKA3hKnLy4scUuAx6tO7Ew831k/xjy1+CIHVH5L7L7lse5r4Blesgqnqc4I5tHrOJO7At5LakUMPZo6x25lPjA4dJUT/ASVHNqi743eFAAAAAElFTkSuQmCC",Wa={class:"ai-suggestion-card"},$a={class:"suggestion-section"},Xa={class:"info"},Ja={class:"suggestion-section"},Ga={class:"info"},Za={class:"suggestion-section"},ja={class:"info"},za={class:"notice-section"},qa={class:"notification-setting"},es={class:"switch"},ts=["checked"],ns={class:"price-edit-row"},rs={class:"price-setting"},as={key:0},ss={key:1},Te="notify_over_drop",Ue="ideal_price",is={__name:"AiSuggestionCard",props:Et({aiSuggestion:{type:Object,default:()=>({})}},{aiSuggestion:()=>({})}),setup(e){const t=Ot(),n=Rt(),r=$(!1);if(n.isAuthenticated)try{r.value=JSON.parse(localStorage.getItem(Te))===!0}catch{r.value=!1}fe(()=>n.isAuthenticated,l=>{if(l)try{r.value=JSON.parse(localStorage.getItem(Te))===!0}catch{r.value=!1}else r.value=!1});function u(l){if(!n.isAuthenticated){t.push("/member/login"),r.value=!1;return}const A=l.target.checked;r.value=A,localStorage.setItem(Te,JSON.stringify(A))}const s=$(null);if(n.isAuthenticated){const l=localStorage.getItem(Ue),A=l!==null?parseFloat(l):NaN;s.value=isNaN(A)?null:A}fe(()=>n.isAuthenticated,l=>{if(l){const A=localStorage.getItem(Ue),g=A!==null?parseFloat(A):NaN;s.value=isNaN(g)?null:g}else s.value=null});function c(){if(!n.isAuthenticated){t.push("/member/login");return}const l=prompt("請輸入理想價格（元/公斤）",s.value!=null?s.value:"");if(l==null)return;const A=Number(l);if(!isNaN(A)&&A>=0){const g=Math.round(A*100)/100;s.value=g,localStorage.setItem(Ue,g.toString())}else alert("請輸入有效的數字。")}return(l,A)=>(h(),v("div",Wa,[A[9]||(A[9]=a("div",{class:"suggestion-section"},[a("h2",{class:"card-title"},"AI智慧推薦")],-1)),a("div",$a,[A[1]||(A[1]=a("div",{class:"icon"},[a("img",{src:Pa,alt:"最佳購買時機"})],-1)),a("div",Xa,[A[0]||(A[0]=a("h3",null,"最佳購買時機",-1)),a("p",null,f(e.aiSuggestion.bestBuyTiming||"暫無建議"),1)])]),a("div",Ja,[A[3]||(A[3]=a("div",{class:"icon"},[a("img",{src:Qa,alt:"同等替代選擇"})],-1)),a("div",Ga,[A[2]||(A[2]=a("h3",null,"同等替代選擇",-1)),a("p",null,f(e.aiSuggestion.alternative||"暫無建議"),1)])]),a("div",Za,[A[5]||(A[5]=a("div",{class:"icon"},[a("img",{src:Ka,alt:"最佳購買地點"})],-1)),a("div",ja,[A[4]||(A[4]=a("h3",null,"最佳購買地點",-1)),a("p",null,f(e.aiSuggestion.bestMarket||"暫無建議"),1)])]),a("div",za,[A[7]||(A[7]=a("p",null,"均價超跌通知",-1)),a("div",qa,[a("label",es,[a("input",{type:"checkbox",checked:r.value,onChange:u},null,40,ts),A[6]||(A[6]=a("span",{class:"slider"},null,-1))])])]),a("div",ns,[a("div",rs,[A[8]||(A[8]=ue(" 設定理想價格: ")),s.value!==null?(h(),v("span",as,"$"+f(s.value)+"/公斤",1)):(h(),v("span",ss,"未設定"))]),a("button",{class:"edit-button",onClick:c},"修改")])]))}},Ze=X(is,[["__scopeId","data-v-fb4378e7"]]),os={class:"VeggieInfoPage"},cs={class:"veggie-page"},us={key:0,class:"content-wrapper"},ls={class:"desktop-layout"},As={class:"left-panel"},ds={class:"right-panel"},gs={class:"mobile-layout"},fs={__name:"VeggieInfoPage",setup(e){const t=Ht(),n=$(null),r={"001":Ae},u=s=>{n.value=r[s]||null};return qe(()=>{u(t.params.id||"001")}),fe(()=>t.params.id,s=>{u(s||"001")}),(s,c)=>{const l=Lt("Footer");return h(),v("div",os,[a("div",cs,[n.value?(h(),v("div",us,[a("div",ls,[a("div",As,[b(Ze,{aiSuggestion:n.value.aiSuggestion},null,8,["aiSuggestion"]),b(We,{nutrition:n.value.nutrition},null,8,["nutrition"]),b(Je,{similarVeggies:n.value.similarVeggies},null,8,["similarVeggies"]),b(Ge,{farmer:n.value.farmer},null,8,["farmer"])]),a("div",ds,[b(Qe,{veggie:n.value},null,8,["veggie"]),b(Ke,{priceTrend:n.value.priceTrend},null,8,["priceTrend"]),b($e,{marketCompare:n.value.marketCompare,veggieName:n.value.name},null,8,["marketCompare","veggieName"]),b(Ne,{recipes:n.value.recipes},null,8,["recipes"]),b(Xe,{storageTips:n.value.storageTips},null,8,["storageTips"])])]),a("div",gs,[b(Qe,{veggie:n.value},null,8,["veggie"]),b(Ze,{aiSuggestion:n.value.aiSuggestion},null,8,["aiSuggestion"]),b(Ke,{priceTrend:n.value.priceTrend},null,8,["priceTrend"]),b($e,{marketCompare:n.value.marketCompare,veggieName:n.value.name},null,8,["marketCompare","veggieName"]),b(Ne,{recipes:n.value.recipes},null,8,["recipes"]),b(We,{nutrition:n.value.nutrition},null,8,["nutrition"]),b(Je,{similarVeggies:n.value.similarVeggies},null,8,["similarVeggies"]),b(Xe,{storageTips:n.value.storageTips},null,8,["storageTips"]),b(Ge,{farmer:n.value.farmer},null,8,["farmer"])])])):ae("",!0)]),b(l)])}}},vs=X(fs,[["__scopeId","data-v-bbacd84d"]]);export{vs as default};
