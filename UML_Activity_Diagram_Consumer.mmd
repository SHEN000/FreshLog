%% FreshLog æ¶ˆè²»è€…å®Œæ•´æ´»å‹•åœ– (Mermaidç‰ˆæœ¬)
%% ç¬¦åˆ UML 2.5 è¦ç¯„
%% å¯ç›´æ¥åœ¨ GitHub/GitLab/Notion/VSCode é è¦½

graph TD
    Start([é–‹å§‹]) --> Home[é€²å…¥FreshLogé¦–é <br/>é¡¯ç¤ºï¼šå“ç‰Œä»‹ç´¹ã€å¸‚å ´è¡Œæƒ…<br/>è¾²æ¥­æŒ‡æ•¸ã€é£Ÿè­œã€ç‡Ÿé¤ŠåŠ©æ‰‹ã€é£Ÿå®‰å¿«è¨Š]

    Home --> ChooseModule{é¸æ“‡åŠŸèƒ½æ¨¡çµ„}

    %% ========================================
    %% è”¬èœç€è¦½èˆ‡æœå°‹æ¨¡çµ„
    %% ========================================
    ChooseModule -->|è”¬èœç€è¦½| VeggieList[é€²å…¥è”¬èœåˆ—è¡¨é ]

    VeggieList --> FilterParallel[["ğŸ”€ ä¸¦è¡Œç¯©é¸èˆ‡æœå°‹"]]
    FilterParallel --> Filter1[é¸æ“‡åˆ†é¡ç¯©é¸<br/>è‘‰èœé¡/æ ¹è–é¡/é›œç³§é¡/å…¶ä»–]
    FilterParallel --> Filter2[è¨­å®šåƒ¹æ ¼ç¯„åœ<br/>0-200å…ƒæ»‘æ¡¿]
    FilterParallel --> Filter3[é¸æ“‡ç‡Ÿé¤Šç¯©é¸<br/>ç¶­ç”Ÿç´ A/Cã€éˆ£ã€éµã€æŠ—æ°§åŒ–]
    FilterParallel --> Filter4[é¸æ“‡ç‰¹è‰²ç¯©é¸<br/>æŠ—æ°§åŒ–/è£œéˆ£/è­·çœ¼/èƒ½é‡/è¶…ç´šé£Ÿç‰©]
    FilterParallel --> Filter5[è¼¸å…¥ä¸­æ–‡/è‹±æ–‡åç¨±æœå°‹<br/>è‡ªå‹•åˆ¤æ–·èªè¨€]

    Filter1 --> FilterJoin[["ğŸ”€ ç¯©é¸åŒ¯åˆ"]]
    Filter2 --> FilterJoin
    Filter3 --> FilterJoin
    Filter4 --> FilterJoin
    Filter5 --> FilterJoin

    FilterJoin --> SortVeggie[é¸æ“‡æ’åºæ–¹å¼<br/>ç”¢å­£ç”±è¿‘åˆ°é /åƒ¹æ ¼é«˜åˆ°ä½/åƒ¹æ ¼ä½åˆ°é«˜]

    SortVeggie --> LoadVeggie[è¼‰å…¥ä¸¦é¡¯ç¤ºè”¬èœå¡ç‰‡<br/>æ¯å¼µå¡ç‰‡ï¼šåœ–ç‰‡ã€è©•åˆ†ã€è¿½è¹¤ç‹€æ…‹<br/>åç¨±ã€åˆ†é¡ã€æè¿°ã€ç‡Ÿé¤Šã€AIå»ºè­°<br/>åƒ¹æ ¼ã€è®ŠåŒ–ç™¾åˆ†æ¯”]

    LoadVeggie --> PaginateVeggie[æŸ¥çœ‹åˆ†é çµæœ<br/>æ¯é 6é …]

    PaginateVeggie --> NeedPageV{éœ€è¦ç¿»é ?}
    NeedPageV -->|æ˜¯| ClickPageV[é»æ“Šä¸Šä¸€é /ä¸‹ä¸€é /é ç¢¼]
    ClickPageV --> LoadVeggie

    NeedPageV -->|å¦| ViewDetailQ{æ˜¯å¦æŸ¥çœ‹è©³æƒ…?}

    ViewDetailQ -->|æ˜¯| VeggieDetail[é»æ“Š"è©³ç´°è³‡è¨Š"æŒ‰éˆ•<br/>é€²å…¥è”¬èœè©³ç´°é ]

    VeggieDetail --> VeggieDetailPage[é¡¯ç¤ºè”¬èœè©³ç´°è³‡è¨Š<br/>ä¸»è¦è³‡è¨Šã€AIå»ºè­°ã€ç‡Ÿé¤Šè³‡è¨Š<br/>åƒ¹æ ¼è¶¨å‹¢åœ–ã€å¤šå¸‚å ´å°æ¯”<br/>ç›¸ä¼¼è”¬èœã€ç›¸é—œé£Ÿè­œã€ä¿å­˜è²¼å£«]

    VeggieDetailPage --> IsLoginV1{æ˜¯å¦å·²ç™»å…¥?}

    IsLoginV1 -->|æ˜¯| OperationV{æ“ä½œé¸æ“‡?}
    OperationV -->|æ”¶è—è”¬èœ| AddFavVeggie[åŠ å…¥è”¬èœæ”¶è—æ¸…å–®]
    OperationV -->|è¨­å®šåƒ¹æ ¼è¿½è¹¤| SetPriceTrack[è¼¸å…¥ç›®æ¨™åƒ¹æ ¼<br/>åŠ å…¥åˆ°åƒ¹è¿½è¹¤æ¸…å–®<br/>åƒ¹æ ¼åˆ°é”æ™‚æœƒæ”¶åˆ°é€šçŸ¥]
    OperationV -->|æŸ¥çœ‹ç›¸é—œé£Ÿè­œ| ClickRelatedRecipe[é»æ“Šç›¸é—œé£Ÿè­œ] --> RecipeDetailPage

    AddFavVeggie --> BackToVeggieList[è¿”å›è”¬èœåˆ—è¡¨]
    SetPriceTrack --> BackToVeggieList

    IsLoginV1 -->|å¦| PromptLoginV[æç¤ºéœ€è¦ç™»å…¥]
    PromptLoginV --> GoLoginV{æ˜¯å¦å‰å¾€ç™»å…¥?}
    GoLoginV -->|æ˜¯| LoginPage
    GoLoginV -->|å¦| ContinueBrowseV[ç¹¼çºŒç€è¦½å…¶ä»–å…§å®¹] --> BackToVeggieList

    ViewDetailQ -->|å¦| ContinueListV[ç¹¼çºŒç€è¦½åˆ—è¡¨] --> BackToVeggieList

    BackToVeggieList --> ReturnHome1[è¿”å›é¦–é æˆ–é›¢é–‹]

    %% ========================================
    %% é£Ÿè­œç€è¦½èˆ‡æŸ¥è©¢æ¨¡çµ„
    %% ========================================
    ChooseModule -->|é£Ÿè­œæŸ¥è©¢| RecipeList[é€²å…¥é£Ÿè­œåˆ—è¡¨é ]

    RecipeList --> RecipeFilterParallel[["ğŸ”€ ä¸¦è¡Œç¯©é¸"]]
    RecipeFilterParallel --> RF1[é¸æ“‡çƒ¹èª¿æ™‚é–“ç¯©é¸<br/>15åˆ†/30åˆ†/1å°æ™‚]
    RecipeFilterParallel --> RF2[é¸æ“‡é›£æ˜“åº¦ç¯©é¸<br/>ç°¡å–®/ä¸­ç­‰/å›°é›£]
    RecipeFilterParallel --> RF3[é¸æ“‡ç‰¹è‰²ç¯©é¸<br/>ç´ é£Ÿ/å…¶ä»–]
    RecipeFilterParallel --> RF4[é¸æ“‡åˆ†é¡ç¯©é¸<br/>æ¹¯å“/è”¬èœ/ç”œé»/æ²™æ‹‰/è‚‰é¡/é£¯é¡]
    RecipeFilterParallel --> RF5[è¼¸å…¥é£Ÿè­œåç¨±æœå°‹]

    RF1 --> RecipeFilterJoin[["ğŸ”€ ç¯©é¸åŒ¯åˆ"]]
    RF2 --> RecipeFilterJoin
    RF3 --> RecipeFilterJoin
    RF4 --> RecipeFilterJoin
    RF5 --> RecipeFilterJoin

    RecipeFilterJoin --> SortRecipe[é¸æ“‡æ’åºæ–¹å¼<br/>æœ€æ–°ä¸Šæ¶/çƒ¹èª¿æ™‚é–“/é›£æ˜“åº¦]

    SortRecipe --> LoadRecipe[è¼‰å…¥ä¸¦é¡¯ç¤ºé£Ÿè­œåˆ—è¡¨<br/>æ¯é 20é …<br/>é¡¯ç¤ºAIæ¨è–¦å€å¡Š]

    LoadRecipe --> PaginateRecipe[æŸ¥çœ‹åˆ†é çµæœ]

    PaginateRecipe --> NeedPageR{éœ€è¦ç¿»é ?}
    NeedPageR -->|æ˜¯| ClickPageR[é»æ“Šåˆ†é æŒ‰éˆ•]
    ClickPageR --> LoadRecipe

    NeedPageR -->|å¦| ViewRecipeQ{æ˜¯å¦æŸ¥çœ‹é£Ÿè­œè©³æƒ…?}

    ViewRecipeQ -->|æ˜¯| ClickRecipe[é»æ“Šé£Ÿè­œå¡ç‰‡]

    ClickRecipe --> RecipeDetailPage[é€²å…¥é£Ÿè­œè©³ç´°é <br/>éºµåŒ…å±‘å°èˆªã€åŸºæœ¬è³‡è¨Š<br/>ä¸»è¦é£Ÿæåƒ¹æ ¼åŠæˆæœ¬ä¼°ç®—<br/>å®Œæ•´é£Ÿæåˆ—è¡¨ã€çƒ¹èª¿æ­¥é©Ÿ<br/>ç‡Ÿé¤Šè³‡è¨Šè¡¨ã€ç•¶å­£é£Ÿææ¨è–¦<br/>æ›¿ä»£é£Ÿæå»ºè­°ã€å¸‚å ´è¡Œæƒ…<br/>ç›¸é—œé£Ÿè­œæ¨è–¦]

    RecipeDetailPage --> IsLoginR1{æ˜¯å¦å·²ç™»å…¥?}

    IsLoginR1 -->|æ˜¯| FavRecipeQ{æ˜¯å¦æ”¶è—é£Ÿè­œ?}
    FavRecipeQ -->|æ˜¯| AddFavRecipe[åŠ å…¥é£Ÿè­œæ”¶è—æ¸…å–®]
    FavRecipeQ -->|å¦| CheckRelatedR{æ˜¯å¦æŸ¥çœ‹ç›¸é—œé£Ÿè­œ?}

    AddFavRecipe --> CheckRelatedR

    CheckRelatedR -->|æ˜¯| ClickRelatedR[é»æ“Šç›¸é—œé£Ÿè­œ]
    ClickRelatedR --> RecipeDetailPage

    CheckRelatedR -->|å¦| BackToRecipeList[è¿”å›é£Ÿè­œåˆ—è¡¨]

    IsLoginR1 -->|å¦| PromptLoginR[æç¤ºéœ€è¦ç™»å…¥æ‰èƒ½æ”¶è—]
    PromptLoginR --> CheckRelatedR

    ViewRecipeQ -->|å¦| ContinueListR[ç¹¼çºŒç€è¦½åˆ—è¡¨] --> BackToRecipeList

    BackToRecipeList --> ReturnHome2[è¿”å›é¦–é æˆ–é›¢é–‹]

    %% ========================================
    %% æœƒå“¡åŠŸèƒ½æ¨¡çµ„
    %% ========================================
    ChooseModule -->|æœƒå“¡åŠŸèƒ½| IsLoginM{æ˜¯å¦å·²ç™»å…¥?}

    IsLoginM -->|å¦| LoginPage[é€²å…¥ç™»å…¥é é¢]

    LoginPage --> LoginMethod{ç™»å…¥æ–¹å¼é¸æ“‡?}

    %% ä¸€èˆ¬ç™»å…¥æµç¨‹
    LoginMethod -->|ä¸€èˆ¬ç™»å…¥| InputAccount[è¼¸å…¥å¸³è™Ÿ]
    InputAccount --> InputPassword[è¼¸å…¥å¯†ç¢¼]
    InputPassword --> InputCaptcha[è¼¸å…¥é©—è­‰ç¢¼]

    InputCaptcha --> KeepLoginQ{æ˜¯å¦ä¿æŒç™»å…¥?}
    KeepLoginQ -->|æ˜¯| CheckKeepLogin[å‹¾é¸"ä¿æŒç™»å…¥"]
    KeepLoginQ -->|å¦| ClickLoginBtn[é»æ“Šç™»å…¥æŒ‰éˆ•]
    CheckKeepLogin --> ClickLoginBtn

    ClickLoginBtn --> LoginSuccess{é©—è­‰æˆåŠŸ?}

    LoginSuccess -->|æ˜¯| SaveToken[å„²å­˜Tokenåˆ°localStorage]
    SaveToken --> LoginOK[ç™»å…¥æˆåŠŸ<br/>è½‰å‘é¦–é æˆ–åŸé é¢]
    LoginOK --> IsLoginM

    LoginSuccess -->|å¦| ShowLoginError[é¡¯ç¤ºéŒ¯èª¤è¨Šæ¯]
    ShowLoginError --> ForgotPwdQ{å¿˜è¨˜å¯†ç¢¼?}

    ForgotPwdQ -->|æ˜¯| ForgotPwdPage[é€²å…¥å¿˜è¨˜å¯†ç¢¼é é¢]
    ForgotPwdPage --> InputEmailOrAccount[è¼¸å…¥é›»å­éƒµä»¶æˆ–å¸³è™Ÿ]
    InputEmailOrAccount --> InputVerifyCode[è¼¸å…¥é©—è­‰ç¢¼]
    InputVerifyCode --> VerifySuccess1{é©—è­‰æˆåŠŸ?}

    VerifySuccess1 -->|æ˜¯| InputNewPwd[è¼¸å…¥æ–°å¯†ç¢¼]
    InputNewPwd --> ConfirmNewPwd[ç¢ºèªæ–°å¯†ç¢¼]
    ConfirmNewPwd --> PwdResetOK[å¯†ç¢¼é‡è¨­æˆåŠŸ<br/>è½‰å‘ç™»å…¥é é¢]
    PwdResetOK --> LoginPage

    VerifySuccess1 -->|å¦| ShowVerifyError[é¡¯ç¤ºé©—è­‰å¤±æ•—è¨Šæ¯]
    ShowVerifyError --> End1([çµæŸ])

    ForgotPwdQ -->|å¦| RetryLogin[é‡æ–°è¼¸å…¥] --> InputAccount

    %% Google OAuth ç™»å…¥
    LoginMethod -->|Google OAuthç™»å…¥| ClickGoogleBtn[é»æ“ŠGoogleç™»å…¥æŒ‰éˆ•]
    ClickGoogleBtn --> GoogleOAuth[è·³è½‰Google OAuthé é¢]
    GoogleOAuth --> GoogleAuth[æˆæ¬Šå®Œæˆ]
    GoogleAuth --> GoogleSuccess{èªè­‰æˆåŠŸ?}

    GoogleSuccess -->|æ˜¯| SaveTokenGoogle[å„²å­˜Token]
    SaveTokenGoogle --> GoogleLoginOK[ç™»å…¥æˆåŠŸ]
    GoogleLoginOK --> IsLoginM

    GoogleSuccess -->|å¦| ShowGoogleError[é¡¯ç¤ºéŒ¯èª¤è¨Šæ¯]
    ShowGoogleError --> End2([çµæŸ])

    %% è¨»å†Šæµç¨‹
    LoginMethod -->|å°šç„¡å¸³è™Ÿï¼Œå‰å¾€è¨»å†Š| RegisterPage[é€²å…¥è¨»å†Šé é¢]
    RegisterPage --> RegInputAccount[è¼¸å…¥å¸³è™Ÿ]
    RegInputAccount --> RegInputEmail[è¼¸å…¥é›»å­éƒµä»¶]
    RegInputEmail --> RegInputPwd[è¼¸å…¥å¯†ç¢¼]
    RegInputPwd --> RegConfirmPwd[ç¢ºèªå¯†ç¢¼]
    RegConfirmPwd --> RegInputCaptcha[è¼¸å…¥é©—è­‰ç¢¼]
    RegInputCaptcha --> AgreeTerms[å‹¾é¸åŒæ„æœå‹™æ¢æ¬¾]

    AgreeTerms --> ClickRegBtn[é»æ“Šè¨»å†ŠæŒ‰éˆ•]
    ClickRegBtn --> RegValidate{è³‡æ–™é©—è­‰æˆåŠŸ?}

    RegValidate -->|æ˜¯| CreateAccount[å»ºç«‹å¸³è™Ÿ]
    CreateAccount --> RegSuccess[è¨»å†ŠæˆåŠŸ<br/>è½‰å‘ç™»å…¥é é¢]
    RegSuccess --> LoginPage

    RegValidate -->|å¦| ShowRegError[é¡¯ç¤ºéŒ¯èª¤è¨Šæ¯]
    ShowRegError --> FixRegData[ä¿®æ­£è³‡æ–™] --> RegInputAccount

    %% å·²ç™»å…¥ç‹€æ…‹
    IsLoginM -->|æ˜¯| AlreadyLogin[å·²ç™»å…¥ç‹€æ…‹]

    AlreadyLogin --> GotoProfileQ{æ˜¯å¦é€²å…¥æœƒå“¡ä¸­å¿ƒ?}

    GotoProfileQ -->|æ˜¯| ProfilePage[é€²å…¥å€‹äººè³‡æ–™ç®¡ç†é ]

    ProfilePage --> ProfileTab{é¸æ“‡åŠŸèƒ½æ¨™ç±¤?}

    %% å€‹äººè³‡è¨Šæ¨™ç±¤
    ProfileTab -->|å€‹äººè³‡è¨Š| ShowProfile[é¡¯ç¤ºå€‹äººè³‡è¨Šè¡¨å–®<br/>å¯ç·¨è¼¯ï¼šå§“åã€é›»è©±ã€éƒµä»¶<br/>åœ°å€ã€ç”Ÿæ—¥ã€æ€§åˆ¥ã€é ­åƒ]

    ShowProfile --> EditProfileQ{æ˜¯å¦ä¿®æ”¹è³‡æ–™?}

    EditProfileQ -->|æ˜¯| EditProfile[ç·¨è¼¯å€‹äººè³‡è¨Š]
    EditProfile --> SaveProfile[é»æ“Šå„²å­˜æŒ‰éˆ•]
    SaveProfile --> ProfileValidate{é©—è­‰æˆåŠŸ?}

    ProfileValidate -->|æ˜¯| UpdateProfile[æ›´æ–°è³‡æ–™]
    UpdateProfile --> ShowProfileSuccess[é¡¯ç¤ºæ›´æ–°æˆåŠŸè¨Šæ¯]
    ShowProfileSuccess --> ProfilePage

    ProfileValidate -->|å¦| ShowProfileError[é¡¯ç¤ºéŒ¯èª¤è¨Šæ¯]
    ShowProfileError --> ProfilePage

    EditProfileQ -->|å¦| ProfilePage

    %% é£Ÿè­œæ”¶è—æ¨™ç±¤
    ProfileTab -->|é£Ÿè­œæ”¶è—| ShowFavRecipes[é¡¯ç¤ºå·²æ”¶è—é£Ÿè­œåˆ—è¡¨]

    ShowFavRecipes --> FavRecipeOp{æ“ä½œé¸æ“‡?}

    FavRecipeOp -->|æŸ¥çœ‹è©³æƒ…| ClickFavRecipe[é»æ“Šé£Ÿè­œ]
    ClickFavRecipe --> RecipeDetailPage

    FavRecipeOp -->|ç§»é™¤æ”¶è—| RemoveFavRecipe[é»æ“Šç§»é™¤æŒ‰éˆ•<br/>å¾æ”¶è—æ¸…å–®ç§»é™¤]
    RemoveFavRecipe --> ProfilePage

    %% è”¬èœæ”¶è—æ¨™ç±¤
    ProfileTab -->|è”¬èœæ”¶è—| ShowFavVeggies[é¡¯ç¤ºå·²æ”¶è—è”¬èœåˆ—è¡¨]

    ShowFavVeggies --> FavVeggieOp{æ“ä½œé¸æ“‡?}

    FavVeggieOp -->|æŸ¥çœ‹è©³æƒ…| ClickFavVeggie[é»æ“Šè”¬èœ]
    ClickFavVeggie --> VeggieDetailPage

    FavVeggieOp -->|ç§»é™¤æ”¶è—| RemoveFavVeggie[é»æ“Šç§»é™¤æŒ‰éˆ•<br/>å¾æ”¶è—æ¸…å–®ç§»é™¤]
    RemoveFavVeggie --> ProfilePage

    %% åˆ°åƒ¹è¿½è¹¤æ¨™ç±¤
    ProfileTab -->|åˆ°åƒ¹è¿½è¹¤| ShowPriceTrack[é¡¯ç¤ºè¿½è¹¤æ¸…å–®<br/>æ¯é …ï¼šè”¬èœåç¨±ã€ç›®æ¨™åƒ¹æ ¼<br/>ç•¶å‰åƒ¹æ ¼ã€åƒ¹æ ¼ç‹€æ…‹]

    ShowPriceTrack --> TrackOp{æ“ä½œé¸æ“‡?}

    TrackOp -->|ç·¨è¼¯ç›®æ¨™åƒ¹æ ¼| EditTargetPrice[è¼¸å…¥æ–°çš„ç›®æ¨™åƒ¹æ ¼]
    EditTargetPrice --> UpdateTrack[æ›´æ–°è¿½è¹¤è¨­å®š]
    UpdateTrack --> ProfilePage

    TrackOp -->|ç§»é™¤è¿½è¹¤| RemoveTrack[é»æ“Šç§»é™¤æŒ‰éˆ•<br/>å¾è¿½è¹¤æ¸…å–®ç§»é™¤]
    RemoveTrack --> ProfilePage

    TrackOp -->|æŸ¥çœ‹è©³æƒ…| GotoVeggieFromTrack[é€²å…¥è”¬èœè©³ç´°é ]
    GotoVeggieFromTrack --> VeggieDetailPage

    %% è¿½è¹¤è¨­å®š
    GotoProfileQ -->|å¦| SetFollowQ{æ˜¯å¦è¨­å®šè¿½è¹¤åå¥½?}

    SetFollowQ -->|æ˜¯| FollowSettingPage[é€²å…¥è¿½è¹¤è¨­å®šé é¢]

    FollowSettingPage --> FollowSettingParallel[["ğŸ”€ ä¸¦è¡Œè¨­å®š"]]
    FollowSettingParallel --> FS1[åƒ¹æ ¼è®Šå‹•é€šçŸ¥ é–‹/é—œ]
    FollowSettingParallel --> FS2[æ–°ä½œç‰©ä¸Šæ¶é€šçŸ¥ é–‹/é—œ]
    FollowSettingParallel --> FS3[æ–°é£Ÿè­œæ¨è–¦é€šçŸ¥ é–‹/é—œ]
    FollowSettingParallel --> FS4[è¾²æ°‘æ›´æ–°é€šçŸ¥ é–‹/é—œ]
    FollowSettingParallel --> FS5[è¨­ç½®åƒ¹æ ¼é–€æª»]
    FollowSettingParallel --> FS6[é¸æ“‡é€šçŸ¥æ–¹å¼<br/>é›»å­éƒµä»¶/æ‡‰ç”¨æ¨é€]

    FS1 --> FollowSettingJoin[["ğŸ”€ è¨­å®šåŒ¯åˆ"]]
    FS2 --> FollowSettingJoin
    FS3 --> FollowSettingJoin
    FS4 --> FollowSettingJoin
    FS5 --> FollowSettingJoin
    FS6 --> FollowSettingJoin

    FollowSettingJoin --> SaveFollowSetting[å„²å­˜è¿½è¹¤è¨­å®š]
    SaveFollowSetting --> ShowFollowSuccess[é¡¯ç¤ºè¨­å®šæˆåŠŸè¨Šæ¯]
    ShowFollowSuccess --> ReturnHome3[è¿”å›é¦–é æˆ–é›¢é–‹]

    SetFollowQ -->|å¦| ReturnHome3

    %% ========================================
    %% å¸‚å ´è³‡è¨ŠæŸ¥è©¢æ¨¡çµ„
    %% ========================================
    ChooseModule -->|å¸‚å ´è³‡è¨Š| MarketInfoType{æŸ¥è©¢é¡å‹?}

    MarketInfoType -->|é£Ÿå®‰å¿«è¨Š| FoodSafetyList[é€²å…¥é£Ÿå®‰å¿«è¨Šåˆ—è¡¨]
    FoodSafetyList --> SelectNews[é¸æ“‡å¿«è¨Šé …ç›®]
    SelectNews --> FoodSafetyDetail[æŸ¥çœ‹é£Ÿå®‰è©³ç´°è³‡è¨Š<br/>è·¯ç”±: /foodsafety/:id]
    FoodSafetyDetail --> ReturnHome4[è¿”å›é¦–é æˆ–é›¢é–‹]

    MarketInfoType -->|ç¦½ç”¢è¡Œæƒ…| PoultryMarket[é€²å…¥ç¦½ç”¢å¸‚å ´é é¢<br/>è·¯ç”±: /poultry-market<br/>åŠŸèƒ½é–‹ç™¼ä¸­]
    PoultryMarket --> ReturnHome4

    MarketInfoType -->|æµ·ç”¢è¡Œæƒ…| SeafoodMarket[é€²å…¥æµ·ç”¢å¸‚å ´é é¢<br/>è·¯ç”±: /seafood-market<br/>åŠŸèƒ½é–‹ç™¼ä¸­]
    SeafoodMarket --> ReturnHome4

    %% çµæŸç¯€é»
    ReturnHome1 --> FinalEnd([çµæŸ])
    ReturnHome2 --> FinalEnd
    ReturnHome3 --> FinalEnd
    ReturnHome4 --> FinalEnd

    %% æ¨£å¼å®šç¾©
    classDef startEnd fill:#4CAF50,stroke:#2E7D32,stroke-width:3px,color:#fff
    classDef decision fill:#FFF3E0,stroke:#F57C00,stroke-width:2px
    classDef process fill:#E3F2FD,stroke:#1976D2,stroke-width:2px
    classDef parallel fill:#FCE4EC,stroke:#C2185B,stroke-width:3px
    classDef important fill:#FFEBEE,stroke:#D32F2F,stroke-width:2px

    class Start,FinalEnd,End1,End2 startEnd
    class ChooseModule,NeedPageV,ViewDetailQ,IsLoginV1,OperationV,GoLoginV,NeedPageR,ViewRecipeQ,IsLoginR1,FavRecipeQ,CheckRelatedR,IsLoginM,LoginMethod,KeepLoginQ,LoginSuccess,ForgotPwdQ,VerifySuccess1,GoogleSuccess,RegValidate,GotoProfileQ,ProfileTab,EditProfileQ,ProfileValidate,FavRecipeOp,FavVeggieOp,TrackOp,SetFollowQ,MarketInfoType decision
    class FilterParallel,FilterJoin,RecipeFilterParallel,RecipeFilterJoin,FollowSettingParallel,FollowSettingJoin parallel
    class LoginPage,RegisterPage,VeggieDetailPage,RecipeDetailPage,ProfilePage important
